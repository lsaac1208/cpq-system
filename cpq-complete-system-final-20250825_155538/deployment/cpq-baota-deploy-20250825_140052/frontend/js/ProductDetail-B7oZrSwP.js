var Ue=Object.defineProperty;var We=Object.getOwnPropertySymbols;var ut=Object.prototype.hasOwnProperty,_t=Object.prototype.propertyIsEnumerable;var Be=(I,w,g)=>w in I?Ue(I,w,{enumerable:!0,configurable:!0,writable:!0,value:g}):I[w]=g,L=(I,w)=>{for(var g in w||(w={}))ut.call(w,g)&&Be(I,g,w[g]);if(We)for(var g of We(w))_t.call(w,g)&&Be(I,g,w[g]);return I};var y=(I,w)=>Ue(I,"name",{value:w,configurable:!0});var U=(I,w,g)=>new Promise((G,O)=>{var F=V=>{try{b(g.next(V))}catch(x){O(x)}},t=V=>{try{b(g.throw(V))}catch(x){O(x)}},b=V=>V.done?G(V.value):Promise.resolve(V.value).then(F,t);b((g=g.apply(I,w)).next())});import{u as pt,h as Oe,s as H,_ as vt}from"./index-CoBZUWE1.js";/* empty css               *//* empty css                        *//* empty css                    */import"./el-tooltip-l0sNRNKZ.js";/* empty css                     *//* empty css                 *//* empty css                 *//* empty css                        *//* empty css                  *//* empty css                           *//* empty css                         */import{x as ft,r as D,X as mt,c as S,j as yt,S as gt,y as c,K as m,J as ht,A as a,Q as s,I as l,O as f,u as d,H as k,M as p,P as N,a6 as C,R as bt,D as Fe,aB as kt,n as wt,aC as At,z as o,L as se}from"./vendor-vue-XfLkFKXI.js";import{aB as It,b as Vt,d as Tt,a3 as Dt,j as St,ah as Nt,W as Ct,ak as Mt,R as Et,Z as jt,w as zt,a4 as Pt,aC as xt,a5 as Wt,aD as Bt,K as re,aE as He,aF as Ut,Q as Ot,B as Ge,aG as Ft,V as ce,aH as de,aI as Ht,aJ as J,aK as Ye,S as Gt,z as ae,aL as oe,ay as ie,aM as Yt,aN as $t,aO as Rt,aP as Zt,N as Qt,M as Lt,ae as Jt}from"./vendor-ui-CE-ZhXxH.js";import{P as Kt}from"./ProductGallery-B8sbjOQ2.js";import"./vendor-pdf-BeW0Xq92.js";import"./vendor-utils-B8vW8fJV.js";/* empty css                        *//* empty css                */import"./el-form-item-l0sNRNKZ.js";/* empty css                *//* empty css                  *//* empty css                 *//* empty css                         */const Xt={class:"product-detail"},qt={key:0,class:"loading-container"},es={class:"loading-content"},ts={key:1,class:"error-container"},ss={class:"error-content"},as={class:"error-actions"},os={key:2,class:"product-container"},is={class:"breadcrumb-section"},ls={key:0,class:"admin-controls"},ns={key:1,class:"edit-controls"},rs={class:"product-main"},cs={class:"product-gallery"},ds={class:"product-info"},us={class:"product-status"},_s={key:2,class:"status-controls"},ps={class:"product-header-info"},vs={key:0,class:"product-title"},fs={key:2,class:"product-code"},ms={key:3,class:"product-code-edit"},ys={class:"basic-info-card"},gs={class:"info-item"},hs={class:"info-label"},bs={key:0,class:"info-value"},ks={class:"info-item"},ws={class:"info-label"},As={key:0,class:"info-value price"},Is={key:0,class:"price-note"},Vs={class:"info-item"},Ts={class:"info-label"},Ds={key:0,class:"info-value"},Ss={class:"info-item"},Ns={class:"info-label"},Cs={class:"info-value"},Ms={key:0,class:"key-specs-preview"},Es={class:"key-specs-grid"},js={class:"spec-label"},zs={class:"spec-value"},Ps={class:"product-actions"},xs={class:"product-long-page-container"},Ws={class:"nav-container"},Bs={class:"nav-list"},Us=["href","onClick"],Os={id:"overview",class:"content-section overview-section"},Fs={class:"section-header"},Hs={class:"section-content overview-content"},Gs={key:0,class:"ai-source-notice"},Ys={class:"ai-notice-content"},$s={class:"content-section"},Rs={class:"product-description"},Zs={key:0},Qs={key:0,class:"application-scenarios"},Ls={class:"scenario-list"},Js={key:1,class:"application-scenarios"},Ks={id:"features",class:"content-section features-section"},Xs={class:"section-header"},qs={class:"section-content features-content"},ea={class:"content-section"},ta={key:0,class:"features-grid"},sa={class:"feature-icon"},aa={class:"feature-info"},oa={key:1,class:"no-features-message"},ia={id:"specifications",class:"content-section specifications-section"},la={class:"section-header"},na={class:"section-content specifications-content"},ra={class:"content-section"},ca={class:"spec-header"},da={key:0,class:"spec-controls"},ua={key:0,class:"specifications-table"},_a={key:1,class:"specifications-editor"},pa={id:"accessories",class:"content-section accessories-section"},va={class:"section-header"},fa={class:"section-content accessories-content"},ma={class:"content-section"},ya={key:0},ga={class:"accessories-grid"},ha={class:"accessory-icon"},ba={class:"accessory-info"},ka={key:1,class:"optional-accessories"},wa={class:"optional-list"},Aa={key:2,class:"no-accessories"},Ia={id:"certificates",class:"content-section certificates-section"},Va={class:"section-header"},Ta={class:"section-content certificates-content"},Da={class:"content-section"},Sa={key:0,class:"certificates-grid"},Na={class:"cert-icon"},Ca={class:"cert-info"},Ma={key:0,class:"cert-number"},Ea={key:1,class:"no-certificates"},ja={id:"support",class:"content-section support-section"},za={class:"section-header"},Pa={class:"section-content support-content"},xa={class:"content-section"},Wa={key:0,class:"warranty-info"},Ba={class:"warranty-card"},Ua={class:"warranty-icon"},Oa={class:"warranty-details"},Fa={key:0},Ha={key:1},Ga={key:2},Ya={key:1,class:"contact-support"},$a={class:"contact-grid"},Ra={key:0,class:"contact-item"},Za={class:"contact-details"},Qa={class:"contact-value"},La={key:1,class:"contact-item"},Ja={class:"contact-details"},Ka={class:"contact-value"},Xa={key:2,class:"contact-item"},qa={class:"contact-details"},eo={class:"contact-value"},to={key:3,class:"contact-item"},so={class:"contact-details"},ao={class:"contact-value"},oo={key:2,class:"service-promise"},io={class:"promise-list"},lo={key:3,class:"no-support"},ue="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjE1MCIgdmlld0JveD0iMCAwIDIwMCAxNTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMTUwIiBmaWxsPSIjRjVGN0ZBIi8+CjxwYXRoIGQ9Ik03NyA2N0g4M1Y3M0g3N1Y2N1pNODMgNjFINzdWNjdIODNWNjFaTTc3IDczSDgzVjc5SDc3VjczWk04OSA2N0g5NVY3M0g4OVY2N1pNOTUgNjFIOTlWNjdIOTVWNjFaTTEwMSA2N0gxMDdWNzNIMTAxVjY3Wk0xMDcgNjFIMTEzVjY3SDEwN1Y2MVpNMTEzIDY3SDExOVY3M0gxMTNWNjdaTTExOSA2MUgxMjVWNjdIMTE5VjYxWiIgZmlsbD0iI0MwQzRDQyIvPgo8dGV4dCB4PSIxMDAiIHk9IjkwIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZpbGw9IiM5MDkzOTkiIHRleHQtYW5jaG9yPSJtaWRkbGUiPueUn+WTgeWbvueJhzwvdGV4dD4KPC9zdmc+",no=ft({__name:"ProductDetail",setup(I){const w=kt();At();const g=pt(),G=D(!1),O=D(!1),F=D(""),t=D(null),b=D(!1),V=D(!1);D(0);const x=D("overview"),le=D(),$e=D(),K=D([{id:"overview",label:"产品简介",icon:"Document"},{id:"features",label:"产品特点",icon:"Star"},{id:"specifications",label:"技术参数",icon:"Grid"},{id:"accessories",label:"附件配件",icon:"Box"},{id:"certificates",label:"检定证书",icon:"Medal"},{id:"support",label:"售后保障",icon:"Service"}]),v=mt({name:"",code:"",category:"",description:"",base_price:0,image_url:"",is_active:!0,is_configurable:!1,configuration_schema:{},specifications:{},detailed_description:"",application_scenarios:[],features:[],accessories:[],certificates:[],support_info:{warranty:{period:"",coverage:"",terms:[]},contact_info:{},service_promises:[]}}),Re=S(()=>{if(!t.value)return ue;try{const i=t.value.image_url||t.value.image||t.value.photo_url||null;if(i&&typeof i=="string"&&i.trim())return i.startsWith("/")||i.startsWith("http")?i:"/images/products/".concat(i)}catch(i){}return ue}),Ze=S(()=>{if(!t.value)return!1;try{const i=t.value.image_url||t.value.image||t.value.photo_url;return i&&typeof i=="string"&&i.trim().length>0}catch(i){return!1}}),Qe=y(i=>{t.value&&i&&typeof i=="string"&&(t.value.image_url=i,v.image_url=i)},"handleImageChange"),Le=y(i=>{if(!(!Array.isArray(i)||!t.value))try{const e=i.find(u=>u&&u.is_primary&&u.image_url);e&&(t.value.image_url=e.image_url,v.image_url=e.image_url)}catch(e){}},"handleImagesUpdate");S(()=>{const i=[];return Ze.value?i.push(Re.value):i.push(ue),i});const _e=S(()=>{var i;if(!((i=t.value)!=null&&i.specifications)||typeof t.value.specifications!="object")return[];try{return Object.entries(t.value.specifications).slice(0,4).map(([e,u])=>{const n=pe(e,u);return{key:e,label:n.label,value:n.displayValue+(n.unit?n.unit:"")}})}catch(e){return[]}}),Je=S(()=>{var i;if(!((i=t.value)!=null&&i.specifications)||typeof t.value.specifications!="object")return[];try{return Object.entries(t.value.specifications).map(([e,u])=>pe(e,u))}catch(e){return[]}}),pe=y((i,e)=>{const n={power:"功率",voltage:"电压",current:"电流",speed:"转速",efficiency:"效率",weight:"重量",dimensions:"尺寸",protection:"防护等级",mounting:"安装方式",cooling:"冷却方式",电压:"电压",电流:"电流",额定功率:"额定功率"}[i]||i;let _,h,A;return e==null?_="-":typeof e=="object"?Array.isArray(e)?_=e.join(", "):e.value!==void 0?(_=String(e.value),h=e.unit,A=e.description):e.min!==void 0&&e.max!==void 0?(_="".concat(e.min,"-").concat(e.max),h=e.unit,A=e.description):_="多参数配置":typeof e=="boolean"?_=e?"是":"否":_=String(e),{label:n,value:e,displayValue:_,unit:h||"",description:A||""}},"formatSpecification"),Ke=y(i=>(typeof i=="string"?parseFloat(i):i).toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2}),"formatPrice"),Xe=y(i=>new Date(i).toLocaleDateString("zh-CN"),"formatDate"),ve=y(()=>U(this,null,function*(){var e,u,n,_,h,A,M,Y,T,X,W,B,q,E,ee,$,R,Z,Q;const i=w.params.id;if(i){G.value=!0,F.value="";try{const j=yield Oe.get("/products/".concat(i)),te=((e=j.data)==null?void 0:e.product)||j.product||j.data;t.value=te,Object.assign(v,{name:((u=t.value)==null?void 0:u.name)||"",code:((n=t.value)==null?void 0:n.code)||"",category:((_=t.value)==null?void 0:_.category)||"",description:((h=t.value)==null?void 0:h.description)||"",base_price:(A=t.value)!=null&&A.base_price?parseFloat(t.value.base_price):0,image_url:((M=t.value)==null?void 0:M.image_url)||"",is_active:!!((Y=t.value)!=null&&Y.is_active),is_configurable:!!((T=t.value)!=null&&T.is_configurable),configuration_schema:(X=t.value)!=null&&X.configuration_schema&&typeof t.value.configuration_schema=="object"?L({},t.value.configuration_schema):{},specifications:(W=t.value)!=null&&W.specifications&&typeof t.value.specifications=="object"?L({},t.value.specifications):{},detailed_description:((B=t.value)==null?void 0:B.detailed_description)||"",application_scenarios:Array.isArray((q=t.value)==null?void 0:q.application_scenarios)?[...t.value.application_scenarios]:[],features:Array.isArray((E=t.value)==null?void 0:E.features)?[...t.value.features]:[],accessories:Array.isArray((ee=t.value)==null?void 0:ee.accessories)?[...t.value.accessories]:[],certificates:Array.isArray(($=t.value)==null?void 0:$.certificates)?[...t.value.certificates]:[],support_info:((R=t.value)==null?void 0:R.support_info)||{warranty:{period:"",coverage:"",terms:[]},contact_info:{},service_promises:[]}})}catch(j){F.value=((Q=(Z=j.response)==null?void 0:Z.data)==null?void 0:Q.message)||"加载产品信息失败"}finally{G.value=!1}}}),"loadProduct"),qe=y(()=>{b.value=!0},"enterEditMode"),et=y(()=>{b.value=!1,Object.assign(v,{name:t.value.name,code:t.value.code,category:t.value.category||"",description:t.value.description||"",base_price:parseFloat(t.value.base_price),image_url:t.value.image_url||"",is_active:t.value.is_active,is_configurable:t.value.is_configurable,configuration_schema:L({},t.value.configuration_schema),specifications:L({},t.value.specifications)}),S(()=>{var e;return!((e=t.value)!=null&&e.accessories)||!Array.isArray(t.value.accessories)?[]:t.value.accessories.filter(u=>u&&u.type==="standard")||[]}),S(()=>{var e;return!((e=t.value)!=null&&e.accessories)||!Array.isArray(t.value.accessories)?[]:t.value.accessories.filter(u=>u&&u.type==="optional")||[]});const i=S(()=>{var u,n;if(!((n=(u=t.value)==null?void 0:u.support_info)!=null&&n.contact_info))return!1;const e=t.value.support_info.contact_info;return!!(e!=null&&e.sales_phone||e!=null&&e.sales_email||e!=null&&e.support_phone||e!=null&&e.support_email||e!=null&&e.service_wechat)});S(()=>{var _,h,A,M;if(!((_=t.value)!=null&&_.support_info))return!1;const e=t.value.support_info,u=((h=e==null?void 0:e.warranty)==null?void 0:h.period)||((A=e==null?void 0:e.warranty)==null?void 0:A.coverage)||((M=e==null?void 0:e.warranty)==null?void 0:M.terms)&&Array.isArray(e.warranty.terms)&&e.warranty.terms.length>0,n=(e==null?void 0:e.service_promises)&&Array.isArray(e.service_promises)&&e.service_promises.length>0;return!!(u||i.value||n)}),S(()=>{if(!t.value)return!1;const e=t.value.features&&Array.isArray(t.value.features)&&t.value.features.length>0,u=t.value.specifications&&typeof t.value.specifications=="object"&&Object.keys(t.value.specifications).length>3,n=t.value.application_scenarios&&Array.isArray(t.value.application_scenarios)&&t.value.application_scenarios.length>0,_=t.value.detailed_description&&t.value.detailed_description.length>50,h=t.value.created_at&&Date.now()-new Date(t.value.created_at).getTime()<24*60*60*1e3,A=[e,u,n,_].filter(Boolean).length;return h&&A>=2})},"cancelEdit"),tt=y(()=>U(this,null,function*(){var i,e,u,n;O.value=!0;try{const _=w.params.id,h={name:v.name,code:v.code,description:v.description,category:v.category,base_price:v.base_price,image_url:v.image_url,configuration_schema:v.configuration_schema||{},specifications:v.specifications||{},is_active:v.is_active,is_configurable:v.is_configurable},A=yield Oe.put("/products/".concat(_),h);Object.assign(t.value,h),H.success("产品信息已保存"),b.value=!1}catch(_){const h=((e=(i=_.response)==null?void 0:i.data)==null?void 0:e.error)||((n=(u=_.response)==null?void 0:u.data)==null?void 0:n.message)||"保存失败";H.error(h)}finally{O.value=!1}}),"saveProduct"),st=y(()=>{const i="spec_".concat(Date.now());v.specifications[i]={label:"",value:"",unit:"",description:""}},"addSpecification"),at=y(i=>{delete v.specifications[i]},"removeSpecification"),ot=y(()=>U(this,null,function*(){var i;if(!(!t.value||V.value)){V.value=!0;try{yield new Promise(e=>setTimeout(e,1e3)),H.success('产品 "'.concat(((i=t.value)==null?void 0:i.name)||"未知产品",'" 已添加到询价单'))}catch(e){H.error("加入询价单失败，请稍后重试")}finally{V.value=!1}}}),"handleAddToQuote"),it=y(()=>{Jt.alert("请拨打销售热线 400-123-4567 或发送邮件至 sales@company.com","联系供应商",{confirmButtonText:"确定",type:"info"})},"handleContactSupplier"),lt=y(()=>U(this,null,function*(){if(!t.value)return;const i=window.location.href,e="".concat(t.value.name," - ").concat(t.value.description||"优质产品");if(navigator.share)try{yield navigator.share({title:t.value.name,text:e,url:i})}catch(u){}else try{yield navigator.clipboard.writeText(i),H.success("产品链接已复制到剪贴板")}catch(u){H.error("分享失败")}}),"handleShare"),fe=y((i,e)=>{var n;e&&e.preventDefault();const u=document.getElementById(i);if(u){const _=((n=le.value)==null?void 0:n.offsetHeight)||0,h=u.offsetTop-_-20;window.scrollTo({top:h,behavior:"smooth"}),x.value=i,window.history.replaceState(null,"","#".concat(i))}},"scrollToSection"),nt=y(()=>{var u;const i=((u=le.value)==null?void 0:u.offsetHeight)||0,e=window.pageYOffset||document.documentElement.scrollTop;for(let n=K.value.length-1;n>=0;n--){const _=K.value[n],h=document.getElementById(_.id);if(h&&h.offsetTop-i-50<=e){x.value=_.id;break}}},"handleScroll"),rt=y(()=>U(this,null,function*(){yield wt();const i=window.location.hash.substring(1);i&&K.value.some(e=>e.id===i)&&setTimeout(()=>{fe(i)},100)}),"initializeScrollPosition"),ne=D(!1),ct=y(()=>{window.scrollTo({top:0,behavior:"smooth"})},"scrollToTop"),dt=y(()=>{ne.value=window.pageYOffset>300},"handleScrollForBackToTop"),me=y(()=>{nt(),dt()},"combinedScrollHandler");return yt(()=>U(this,null,function*(){yield ve(),yield rt(),window.addEventListener("scroll",me,{passive:!0})})),gt(()=>{window.removeEventListener("scroll",me)}),(i,e)=>{var $,R,Z,Q,j,te,ye,ge,he,be,ke,we,Ae,Ie,Ve,Te,De,Se,Ne,Ce,Me,Ee,je,ze,Pe,xe;const u=It,n=Vt,_=Tt,h=Pt,A=Dt,M=St,Y=Nt,T=Ct,X=jt,W=Mt,B=Gt,q=Et,E=Qt,ee=Lt;return o(),c("div",Xt,[G.value?(o(),c("div",qt,[a("div",es,[s(u,{rows:12,animated:""})])])):F.value?(o(),c("div",ts,[a("div",ss,[s(n,{size:"64",color:"#f56c6c"},{default:l(()=>[s(d(zt))]),_:1}),e[12]||(e[12]=a("h2",null,"产品未找到",-1)),a("p",null,f(F.value),1),a("div",as,[s(_,{onClick:e[0]||(e[0]=r=>i.$router.go(-1))},{default:l(()=>e[10]||(e[10]=[p("返回上一页",-1)])),_:1,__:[10]}),s(_,{type:"primary",onClick:e[1]||(e[1]=r=>i.$router.push("/products"))},{default:l(()=>e[11]||(e[11]=[p("浏览产品",-1)])),_:1,__:[11]})])])])):t.value?(o(),c("div",os,[a("div",is,[s(A,{separator:"/"},{default:l(()=>[s(h,{to:{path:"/"}},{default:l(()=>[s(n,null,{default:l(()=>[s(d(xt))]),_:1}),e[13]||(e[13]=p(" 首页 ",-1))]),_:1,__:[13]}),s(h,{to:{path:d(g).isAdmin?"/products":"/search"}},{default:l(()=>[p(f(d(g).isAdmin?"产品管理":"产品中心"),1)]),_:1},8,["to"]),t.value.category?(o(),k(h,{key:0},{default:l(()=>[p(f(t.value.category),1)]),_:1})):m("",!0),s(h,null,{default:l(()=>[p(f(b.value?"编辑产品":t.value.name),1)]),_:1})]),_:1}),d(g).canEditProducts?(o(),c("div",ls,[b.value?(o(),c("div",ns,[s(_,{onClick:et},{default:l(()=>e[15]||(e[15]=[p("取消编辑",-1)])),_:1,__:[15]}),s(_,{type:"primary",onClick:tt,loading:O.value},{default:l(()=>[s(n,null,{default:l(()=>[s(d(Bt))]),_:1}),e[16]||(e[16]=p(" 保存修改 ",-1))]),_:1,__:[16]},8,["loading"])])):(o(),k(_,{key:0,type:"primary",onClick:qe},{default:l(()=>[s(n,null,{default:l(()=>[s(d(Wt))]),_:1}),e[14]||(e[14]=p(" 编辑产品 ",-1))]),_:1,__:[14]}))])):m("",!0)]),a("div",rs,[a("div",cs,[($=t.value)!=null&&$.id?(o(),k(Kt,{key:0,"product-id":t.value.id,"edit-mode":b.value&&d(g).canEditProducts,"can-edit":d(g).canEditProducts,height:"400px",onRefresh:ve,onImageChange:Qe,onImagesUpdate:Le},null,8,["product-id","edit-mode","can-edit"])):m("",!0)]),a("div",ds,[a("div",us,[s(M,{type:(b.value?v.is_active:t.value.is_active)?"success":"danger",size:"large",effect:"light"},{default:l(()=>[p(f((b.value?v.is_active:t.value.is_active)?"有效产品":"已停产"),1)]),_:1},8,["type"]),(b.value?v.is_configurable:t.value.is_configurable)?(o(),k(M,{key:0,type:"primary",size:"large",effect:"light"},{default:l(()=>[s(n,null,{default:l(()=>[s(d(re))]),_:1}),e[17]||(e[17]=p(" 可定制配置 ",-1))]),_:1,__:[17]})):m("",!0),i.isCreatedFromAI?(o(),k(M,{key:1,type:"warning",size:"large",effect:"light"},{default:l(()=>[s(n,null,{default:l(()=>[s(d(He))]),_:1}),e[18]||(e[18]=p(" AI智能创建 ",-1))]),_:1,__:[18]})):m("",!0),b.value&&d(g).canEditProducts?(o(),c("div",_s,[s(Y,{modelValue:v.is_active,"onUpdate:modelValue":e[2]||(e[2]=r=>v.is_active=r),"active-text":"启用","inactive-text":"禁用","inline-prompt":""},null,8,["modelValue"]),s(Y,{modelValue:v.is_configurable,"onUpdate:modelValue":e[3]||(e[3]=r=>v.is_configurable=r),"active-text":"可配置","inactive-text":"固定","inline-prompt":""},null,8,["modelValue"])])):m("",!0)]),a("div",ps,[b.value?(o(),k(T,{key:1,modelValue:v.name,"onUpdate:modelValue":e[4]||(e[4]=r=>v.name=r),class:"product-title-edit",size:"large",placeholder:"请输入产品名称"},null,8,["modelValue"])):(o(),c("h1",vs,f(t.value.name),1)),b.value?(o(),c("div",ms,[e[19]||(e[19]=a("span",null,"产品编码: ",-1)),s(T,{modelValue:v.code,"onUpdate:modelValue":e[5]||(e[5]=r=>v.code=r),style:{width:"200px"},placeholder:"请输入产品编码"},null,8,["modelValue"])])):(o(),c("p",fs,"产品编码: "+f(t.value.code),1))]),a("div",ys,[a("div",gs,[a("div",hs,[s(n,null,{default:l(()=>[s(d(Ut))]),_:1}),e[20]||(e[20]=p(" 产品分类 ",-1))]),b.value?(o(),k(T,{key:1,modelValue:v.category,"onUpdate:modelValue":e[6]||(e[6]=r=>v.category=r),class:"info-value-edit",placeholder:"请输入产品分类"},null,8,["modelValue"])):(o(),c("div",bs,f(t.value.category||"未分类"),1))]),a("div",ks,[a("div",ws,[s(n,null,{default:l(()=>[s(d(Ot))]),_:1}),e[21]||(e[21]=p(" 基础价格 ",-1))]),b.value?(o(),k(X,{key:1,modelValue:v.base_price,"onUpdate:modelValue":e[7]||(e[7]=r=>v.base_price=r),min:0,precision:2,class:"info-value-edit"},null,8,["modelValue"])):(o(),c("div",As,[p(" ¥"+f(Ke(t.value.base_price))+" ",1),t.value.is_configurable?(o(),c("span",Is,"起")):m("",!0)]))]),a("div",Vs,[a("div",Ts,[s(n,null,{default:l(()=>[s(d(Ge))]),_:1}),e[22]||(e[22]=p(" 产品描述 ",-1))]),b.value?(o(),k(T,{key:1,modelValue:v.description,"onUpdate:modelValue":e[8]||(e[8]=r=>v.description=r),type:"textarea",rows:3,class:"info-value-edit",placeholder:"请输入产品描述"},null,8,["modelValue"])):(o(),c("div",Ds,f(t.value.description||"暂无描述"),1))]),a("div",Ss,[a("div",Ns,[s(n,null,{default:l(()=>[s(d(Ft))]),_:1}),e[23]||(e[23]=p(" 发布时间 ",-1))]),a("div",Cs,f(Xe(t.value.created_at)),1)])]),_e.value.length>0?(o(),c("div",Ms,[e[24]||(e[24]=a("h3",null,"核心规格",-1)),a("div",Es,[(o(!0),c(N,null,C(_e.value,r=>(o(),c("div",{key:r.key,class:"key-spec-item"},[a("div",js,f(r.label),1),a("div",zs,f(r.value),1)]))),128))])])):m("",!0),a("div",Ps,[d(g).isAdmin?m("",!0):(o(),k(_,{key:0,type:"primary",size:"large",loading:V.value,onClick:ot},{default:l(()=>[s(n,null,{default:l(()=>[s(d(ce))]),_:1}),e[25]||(e[25]=p(" 加入询价单 ",-1))]),_:1,__:[25]},8,["loading"])),d(g).isAdmin?m("",!0):(o(),k(_,{key:1,size:"large",onClick:it},{default:l(()=>[s(n,null,{default:l(()=>[s(d(de))]),_:1}),e[26]||(e[26]=p(" 联系供应商 ",-1))]),_:1,__:[26]})),d(g).isAdmin?m("",!0):(o(),k(_,{key:2,size:"large",onClick:lt},{default:l(()=>[s(n,null,{default:l(()=>[s(d(Ht))]),_:1}),e[27]||(e[27]=p(" 分享产品 ",-1))]),_:1,__:[27]}))])])]),a("div",xs,[a("div",{class:"anchor-navigation",ref_key:"anchorNav",ref:le},[a("div",Ws,[a("div",Bs,[(o(!0),c(N,null,C(K.value,r=>(o(),c("a",{key:r.id,href:"#".concat(r.id),class:Fe(["nav-item",{active:x.value===r.id}]),onClick:y(z=>fe(r.id,z),"onClick")},[s(n,null,{default:l(()=>[(o(),k(se(r.icon)))]),_:2},1024),a("span",null,f(r.label),1)],10,Us))),128))])])],512),a("div",{class:"long-page-content",ref_key:"longPageContent",ref:$e},[a("section",Os,[a("div",Fs,[a("h2",null,[s(n,null,{default:l(()=>[s(d(Ge))]),_:1}),e[28]||(e[28]=p(" 产品简介 ",-1))])]),a("div",Hs,[i.isCreatedFromAI?(o(),c("div",Gs,[a("div",Ys,[s(n,{class:"ai-icon"},{default:l(()=>[s(d(He))]),_:1}),e[29]||(e[29]=a("div",{class:"ai-text"},[a("h4",null,"AI智能分析生成"),a("p",null,"此产品信息由AI智能分析文档生成，包含自动提取的技术规格、产品特性和应用场景。")],-1))])])):m("",!0),a("div",$s,[e[33]||(e[33]=a("h3",null,"产品介绍",-1)),a("div",Rs,[b.value?(o(),k(T,{key:1,modelValue:v.detailed_description,"onUpdate:modelValue":e[9]||(e[9]=r=>v.detailed_description=r),type:"textarea",rows:8,placeholder:"请输入产品详细介绍",class:"description-editor"},null,8,["modelValue"])):(o(),c("p",Zs,f(t.value.detailed_description||t.value.description||"请在编辑模式中添加产品详细介绍"),1))]),(R=t.value)!=null&&R.application_scenarios&&Array.isArray(t.value.application_scenarios)&&t.value.application_scenarios.length>0?(o(),c("div",Qs,[a("h4",null,[s(n,null,{default:l(()=>[s(d(re))]),_:1}),e[30]||(e[30]=p("应用场景",-1))]),a("ul",Ls,[(o(!0),c(N,null,C(t.value.application_scenarios,r=>(o(),c("li",{key:r.id},[r.icon?(o(),k(n,{key:0},{default:l(()=>[(o(),k(se(r.icon)))]),_:2},1024)):(o(),k(n,{key:1},{default:l(()=>[s(d(J))]),_:1})),p(" "+f(r.name),1)]))),128))])])):b.value?m("",!0):(o(),c("div",Js,[a("h4",null,[s(n,null,{default:l(()=>[s(d(re))]),_:1}),e[31]||(e[31]=p("应用场景",-1))]),e[32]||(e[32]=a("p",{class:"no-data"},"暂未设置应用场景信息",-1))]))])])]),a("section",Ks,[a("div",Xs,[a("h2",null,[s(n,null,{default:l(()=>[s(d(J))]),_:1}),e[34]||(e[34]=p(" 产品特点 ",-1))])]),a("div",qs,[a("div",ea,[e[35]||(e[35]=a("h3",null,"产品优势特点",-1)),(Z=t.value)!=null&&Z.features&&Array.isArray(t.value.features)&&t.value.features.length>0?(o(),c("div",ta,[(o(!0),c(N,null,C(t.value.features,r=>(o(),c("div",{key:r.id,class:"feature-card"},[a("div",sa,[r.icon?(o(),k(n,{key:0,color:"#2563eb"},{default:l(()=>[(o(),k(se(r.icon)))]),_:2},1024)):(o(),k(n,{key:1,color:"#2563eb"},{default:l(()=>[s(d(J))]),_:1}))]),a("div",aa,[a("h4",null,f(r.title),1),a("p",null,f(r.description),1)])]))),128))])):(o(),c("div",oa,[s(W,{description:"暂未设置产品特点信息"},{image:l(()=>[s(n,{size:"60",color:"#d1d5db"},{default:l(()=>[s(d(J))]),_:1})]),_:1})]))])])]),a("section",ia,[a("div",la,[a("h2",null,[s(n,null,{default:l(()=>[s(d(Ye))]),_:1}),e[36]||(e[36]=p(" 技术参数 ",-1))])]),a("div",na,[a("div",ra,[a("div",ca,[a("h3",null,[s(n,null,{default:l(()=>[s(d(Ye))]),_:1}),e[37]||(e[37]=p("技术参数",-1))]),b.value&&d(g).canEditProducts?(o(),c("div",da,[s(_,{type:"primary",size:"small",onClick:st},{default:l(()=>[s(n,null,{default:l(()=>[s(d(ce))]),_:1}),e[38]||(e[38]=p(" 添加规格 ",-1))]),_:1,__:[38]})])):m("",!0)]),b.value?(o(),c("div",_a,[(o(!0),c(N,null,C(v.specifications,(r,z)=>(o(),c("div",{key:z,class:"spec-edit-item"},[s(ee,{gutter:16},{default:l(()=>[s(E,{span:6},{default:l(()=>[s(T,{modelValue:r.label,"onUpdate:modelValue":y(P=>r.label=P,"onUpdate:modelValue"),placeholder:"规格名称"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),s(E,{span:6},{default:l(()=>[s(T,{modelValue:r.value,"onUpdate:modelValue":y(P=>r.value=P,"onUpdate:modelValue"),placeholder:"数值"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),s(E,{span:4},{default:l(()=>[s(T,{modelValue:r.unit,"onUpdate:modelValue":y(P=>r.unit=P,"onUpdate:modelValue"),placeholder:"单位"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),s(E,{span:6},{default:l(()=>[s(T,{modelValue:r.description,"onUpdate:modelValue":y(P=>r.description=P,"onUpdate:modelValue"),placeholder:"说明"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),s(E,{span:2},{default:l(()=>[s(_,{type:"danger",icon:"Delete",onClick:y(P=>at(z),"onClick")},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]))),128))])):(o(),c("div",ua,[s(q,{data:Je.value,stripe:"",class:"spec-table"},{default:l(()=>[s(B,{prop:"label",label:"参数名称",width:"200"}),s(B,{prop:"displayValue",label:"数值",width:"150"}),s(B,{prop:"unit",label:"单位",width:"100"}),s(B,{prop:"description",label:"说明"})]),_:1},8,["data"])]))])])]),a("section",pa,[a("div",va,[a("h2",null,[s(n,null,{default:l(()=>[s(d(ae))]),_:1}),e[39]||(e[39]=p(" 附件配件 ",-1))])]),a("div",fa,[a("div",ma,[i.standardAccessories&&i.standardAccessories.length>0?(o(),c("div",ya,[a("h3",null,[s(n,null,{default:l(()=>[s(d(ae))]),_:1}),e[40]||(e[40]=p("标准配置",-1))]),a("div",ga,[(o(!0),c(N,null,C(i.standardAccessories,r=>(o(),c("div",{key:r.id,class:"accessory-item"},[a("div",ha,[r.icon?(o(),k(n,{key:0},{default:l(()=>[(o(),k(se(r.icon)))]),_:2},1024)):(o(),k(n,{key:1},{default:l(()=>[s(d(ae))]),_:1}))]),a("div",ba,[a("h4",null,f(r.name),1),a("p",null,f(r.description),1)])]))),128))])])):m("",!0),i.optionalAccessories&&i.optionalAccessories.length>0?(o(),c("div",ka,[a("h4",null,[s(n,null,{default:l(()=>[s(d(ce))]),_:1}),e[41]||(e[41]=p("可选配件",-1))]),a("ul",wa,[(o(!0),c(N,null,C(i.optionalAccessories,r=>(o(),c("li",{key:r.id},f(r.name)+" - "+f(r.description),1))),128))])])):m("",!0),!((Q=t.value)!=null&&Q.accessories)||!Array.isArray(t.value.accessories)||t.value.accessories.length===0?(o(),c("div",Aa,[s(W,{description:"暂未设置配件信息"},{image:l(()=>[s(n,{size:"60",color:"#d1d5db"},{default:l(()=>[s(d(ae))]),_:1})]),_:1})])):m("",!0)])])]),a("section",Ia,[a("div",Va,[a("h2",null,[s(n,null,{default:l(()=>[s(d(oe))]),_:1}),e[42]||(e[42]=p(" 检定证书 ",-1))])]),a("div",Ta,[a("div",Da,[a("h3",null,[s(n,null,{default:l(()=>[s(d(oe))]),_:1}),e[43]||(e[43]=p("质量认证",-1))]),(j=t.value)!=null&&j.certificates&&Array.isArray(t.value.certificates)&&t.value.certificates.length>0?(o(),c("div",Sa,[(o(!0),c(N,null,C(t.value.certificates,r=>(o(),c("div",{key:r.id,class:"certificate-card"},[a("div",Na,[s(n,null,{default:l(()=>[s(d(oe))]),_:1})]),a("div",Ca,[a("h4",null,f(r.name),1),a("p",null,f(r.description),1),r.certificate_number?(o(),c("p",Ma," 证书编号: "+f(r.certificate_number),1)):m("",!0)])]))),128))])):(o(),c("div",Ea,[s(W,{description:"暂未设置证书信息"},{image:l(()=>[s(n,{size:"60",color:"#d1d5db"},{default:l(()=>[s(d(oe))]),_:1})]),_:1})]))])])]),a("section",ja,[a("div",za,[a("h2",null,[s(n,null,{default:l(()=>[s(d(ie))]),_:1}),e[44]||(e[44]=p(" 售后保障 ",-1))])]),a("div",Pa,[a("div",xa,[a("h3",null,[s(n,null,{default:l(()=>[s(d(ie))]),_:1}),e[45]||(e[45]=p("服务承诺",-1))]),(te=t.value.support_info)!=null&&te.warranty?(o(),c("div",Wa,[a("div",Ba,[a("div",Ua,[s(n,{color:"#059669"},{default:l(()=>[s(d(Yt))]),_:1})]),a("div",Oa,[e[46]||(e[46]=a("h4",null,"质量保证",-1)),(he=(ge=(ye=t.value)==null?void 0:ye.support_info)==null?void 0:ge.warranty)!=null&&he.period?(o(),c("p",Fa," 质保期："+f(t.value.support_info.warranty.period),1)):m("",!0),(we=(ke=(be=t.value)==null?void 0:be.support_info)==null?void 0:ke.warranty)!=null&&we.coverage?(o(),c("p",Ha,f(t.value.support_info.warranty.coverage),1)):m("",!0),((Te=(Ve=(Ie=(Ae=t.value)==null?void 0:Ae.support_info)==null?void 0:Ie.warranty)==null?void 0:Ve.terms)==null?void 0:Te.length)>0?(o(),c("div",Ga,[(o(!0),c(N,null,C(t.value.support_info.warranty.terms,(r,z)=>(o(),c("p",{key:z},f(r),1))),128))])):m("",!0)])])])):m("",!0),i.hasContactInfo?(o(),c("div",Ya,[a("h4",null,[s(n,null,{default:l(()=>[s(d(de))]),_:1}),e[47]||(e[47]=p("联系我们",-1))]),a("div",$a,[(Se=(De=t.value.support_info)==null?void 0:De.contact_info)!=null&&Se.sales_phone?(o(),c("div",Ra,[s(n,null,{default:l(()=>[s(d(de))]),_:1}),a("div",Za,[e[48]||(e[48]=a("div",{class:"contact-label"},"销售热线",-1)),a("div",Qa,f(t.value.support_info.contact_info.sales_phone),1)])])):m("",!0),(Ce=(Ne=t.value.support_info)==null?void 0:Ne.contact_info)!=null&&Ce.sales_email?(o(),c("div",La,[s(n,null,{default:l(()=>[s(d($t))]),_:1}),a("div",Ja,[e[49]||(e[49]=a("div",{class:"contact-label"},"邮箱咨询",-1)),a("div",Ka,f(t.value.support_info.contact_info.sales_email),1)])])):m("",!0),(Ee=(Me=t.value.support_info)==null?void 0:Me.contact_info)!=null&&Ee.service_wechat?(o(),c("div",Xa,[s(n,null,{default:l(()=>[s(d(Rt))]),_:1}),a("div",qa,[e[50]||(e[50]=a("div",{class:"contact-label"},"在线客服",-1)),a("div",eo,"微信: "+f(t.value.support_info.contact_info.service_wechat),1)])])):m("",!0),(ze=(je=t.value.support_info)==null?void 0:je.contact_info)!=null&&ze.support_email?(o(),c("div",to,[s(n,null,{default:l(()=>[s(d(ie))]),_:1}),a("div",so,[e[51]||(e[51]=a("div",{class:"contact-label"},"技术支持",-1)),a("div",ao,f(t.value.support_info.contact_info.support_email),1)])])):m("",!0)])])):m("",!0),(xe=(Pe=t.value)==null?void 0:Pe.support_info)!=null&&xe.service_promises&&Array.isArray(t.value.support_info.service_promises)&&t.value.support_info.service_promises.length>0?(o(),c("div",oo,[a("h4",null,[s(n,null,{default:l(()=>[s(d(J))]),_:1}),e[52]||(e[52]=p("服务承诺",-1))]),a("ul",io,[(o(!0),c(N,null,C(t.value.support_info.service_promises,(r,z)=>(o(),c("li",{key:z}," ✓ "+f(r),1))),128))])])):m("",!0),i.hasSupportInfo?m("",!0):(o(),c("div",lo,[s(W,{description:"暂未设置售后保障信息"},{image:l(()=>[s(n,{size:"60",color:"#d1d5db"},{default:l(()=>[s(d(ie))]),_:1})]),_:1})]))])])])],512)])])):m("",!0),ht(a("button",{class:Fe(["back-to-top",{visible:ne.value}]),onClick:ct,"aria-label":"回到顶部"},[s(n,null,{default:l(()=>[s(d(Zt))]),_:1})],2),[[bt,ne.value]])])}}}),zo=vt(no,[["__scopeId","data-v-d267162d"]]);export{zo as default};
