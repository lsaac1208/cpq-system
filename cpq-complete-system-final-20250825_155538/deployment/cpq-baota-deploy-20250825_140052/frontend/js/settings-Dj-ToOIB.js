var S=Object.defineProperty,F=Object.defineProperties;var E=Object.getOwnPropertyDescriptors;var m=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var u=(t,e,s)=>e in t?S(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,w=(t,e)=>{for(var s in e||(e={}))D.call(e,s)&&u(t,s,e[s]);if(m)for(var s of m(e))R.call(e,s)&&u(t,s,e[s]);return t},C=(t,e)=>F(t,E(e)),f=(t,e)=>S(t,"name",{value:e,configurable:!0});var g=(t,e,s)=>u(t,typeof e!="symbol"?e+"":e,s);var a=(t,e,s)=>new Promise((r,y)=>{var I=n=>{try{p(s.next(n))}catch(h){y(h)}},A=n=>{try{p(s.throw(n))}catch(h){y(h)}},p=n=>n.done?r(n.value):Promise.resolve(n.value).then(I,A);p((s=s.apply(t,e)).next())});import{h as c}from"./index-CoBZUWE1.js";const o={getSettings(){return a(this,null,function*(){return(yield c.get("/settings")).data.data})},updateSettings(t){return a(this,null,function*(){return(yield c.put("/settings",t)).data.data})},getCompanyInfo(){return a(this,null,function*(){return(yield c.get("/settings/company")).data.data})},updateCompanyInfo(t){return a(this,null,function*(){return(yield c.put("/settings/company",t)).data.data})},testEmailSettings(){return a(this,null,function*(){return{message:(yield c.post("/settings/test-email")).data.message}})},resetSettings(){return a(this,null,function*(){return(yield c.post("/settings/reset")).data.data})}},l=class l{constructor(){g(this,"cache",null);g(this,"lastFetch",null);g(this,"CACHE_DURATION",5*60*1e3)}getSettings(e=!1){return a(this,null,function*(){const s=new Date;return(e||!this.cache||!this.lastFetch||s.getTime()-this.lastFetch.getTime()>this.CACHE_DURATION)&&(this.cache=yield o.getSettings(),this.lastFetch=s),this.cache})}updateCache(e){this.cache=e,this.lastFetch=new Date}clearCache(){this.cache=null,this.lastFetch=null}};f(l,"SettingsCache");let d=l;const i=new d,H={getSettings(t=!1){return a(this,null,function*(){return i.getSettings(t)})},updateSettings(t){return a(this,null,function*(){const e=yield o.updateSettings(t);return i.updateCache(e),e})},getCompanyInfo(t=!1){return a(this,null,function*(){return(yield this.getSettings(t)).company_info})},updateCompanyInfo(t){return a(this,null,function*(){const e=yield o.updateCompanyInfo(t),s=yield this.getSettings(),r=C(w({},s),{company_info:e});return i.updateCache(r),e})},resetSettings(){return a(this,null,function*(){const t=yield o.resetSettings();return i.updateCache(t),t})},testEmailSettings(){return a(this,null,function*(){return o.testEmailSettings()})},clearCache(){i.clearCache()}};export{H as c};
