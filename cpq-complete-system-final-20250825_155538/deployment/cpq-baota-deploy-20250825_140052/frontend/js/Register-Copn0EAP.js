var z=Object.defineProperty;var x=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var V=(t,m)=>z(t,"name",{value:m,configurable:!0});var y=(t,m)=>{var i={};for(var a in t)U.call(t,a)&&m.indexOf(a)<0&&(i[a]=t[a]);if(t!=null&&x)for(var a of x(t))m.indexOf(a)<0&&k.call(t,a)&&(i[a]=t[a]);return i};var b=(t,m,i)=>new Promise((a,s)=>{var v=l=>{try{p(i.next(l))}catch(e){s(e)}},c=l=>{try{p(i.throw(l))}catch(e){s(e)}},p=l=>l.done?a(l.value):Promise.resolve(l.value).then(v,c);p((i=i.apply(t,m)).next())});import{u as N,s as C,_ as q}from"./index-CoBZUWE1.js";/* empty css               */import"./el-form-item-l0sNRNKZ.js";/* empty css                 */import{x as F,r as A,X as M,y as B,A as f,Q as r,I as o,V as I,u as g,M as P,al as S,a4 as K,aC as L,z as Q}from"./vendor-vue-XfLkFKXI.js";import{af as D,M as J,N as T,ag as W,W as X,u as j,aN as G,aM as R,d as H}from"./vendor-ui-CE-ZhXxH.js";import"./vendor-pdf-BeW0Xq92.js";import"./vendor-utils-B8vW8fJV.js";const O={class:"register-container"},Y={class:"register-card"},Z={class:"register-footer"},$=F({__name:"Register",setup(t){const m=L(),i=N(),a=A(),s=M({username:"",email:"",password:"",confirmPassword:"",first_name:"",last_name:""}),c={first_name:[{required:!0,message:"Please enter first name",trigger:"blur"}],last_name:[{required:!0,message:"Please enter last name",trigger:"blur"}],username:[{required:!0,message:"Please enter username",trigger:"blur"},{min:3,message:"Username must be at least 3 characters",trigger:"blur"}],email:[{required:!0,message:"Please enter email",trigger:"blur"},{type:"email",message:"Please enter a valid email",trigger:"blur"}],password:[{required:!0,message:"Please enter password",trigger:"blur"},{min:6,message:"Password must be at least 6 characters",trigger:"blur"}],confirmPassword:[{required:!0,message:"Please confirm password",trigger:"blur"},{validator:V((l,e,n)=>{e!==s.password?n(new Error("Passwords do not match")):n()},"validateConfirmPassword"),trigger:"blur"}]},p=V(()=>b(this,null,function*(){var e,n;if(a.value)try{yield a.value.validate();const l=s,{confirmPassword:d}=l,_=y(l,["confirmPassword"]),w=yield i.register(_);C.success(w.message||"Registration successful"),m.push("/")}catch(d){C.error(((n=(e=d.response)==null?void 0:e.data)==null?void 0:n.error)||"Registration failed")}}),"handleRegister");return(l,e)=>{const n=X,d=W,_=T,w=J,h=H,E=S("router-link");return Q(),B("div",O,[f("div",Y,[e[9]||(e[9]=f("div",{class:"register-header"},[f("h2",null,"Create Account"),f("p",null,"Join CPQ System")],-1)),r(g(D),{ref_key:"registerFormRef",ref:a,model:s,rules:c,onSubmit:I(p,["prevent"])},{default:o(()=>[r(w,{gutter:20},{default:o(()=>[r(_,{span:12},{default:o(()=>[r(d,{prop:"first_name"},{default:o(()=>[r(n,{modelValue:s.first_name,"onUpdate:modelValue":e[0]||(e[0]=u=>s.first_name=u),placeholder:"First Name",size:"large"},null,8,["modelValue"])]),_:1})]),_:1}),r(_,{span:12},{default:o(()=>[r(d,{prop:"last_name"},{default:o(()=>[r(n,{modelValue:s.last_name,"onUpdate:modelValue":e[1]||(e[1]=u=>s.last_name=u),placeholder:"Last Name",size:"large"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),r(d,{prop:"username"},{default:o(()=>[r(n,{modelValue:s.username,"onUpdate:modelValue":e[2]||(e[2]=u=>s.username=u),placeholder:"Username",size:"large","prefix-icon":g(j)},null,8,["modelValue","prefix-icon"])]),_:1}),r(d,{prop:"email"},{default:o(()=>[r(n,{modelValue:s.email,"onUpdate:modelValue":e[3]||(e[3]=u=>s.email=u),placeholder:"Email",size:"large","prefix-icon":g(G)},null,8,["modelValue","prefix-icon"])]),_:1}),r(d,{prop:"password"},{default:o(()=>[r(n,{modelValue:s.password,"onUpdate:modelValue":e[4]||(e[4]=u=>s.password=u),type:"password",placeholder:"Password",size:"large","prefix-icon":g(R),"show-password":""},null,8,["modelValue","prefix-icon"])]),_:1}),r(d,{prop:"confirmPassword"},{default:o(()=>[r(n,{modelValue:s.confirmPassword,"onUpdate:modelValue":e[5]||(e[5]=u=>s.confirmPassword=u),type:"password",placeholder:"Confirm Password",size:"large","prefix-icon":g(R),"show-password":"",onKeyup:K(p,["enter"])},null,8,["modelValue","prefix-icon"])]),_:1}),r(d,null,{default:o(()=>[r(h,{type:"primary",size:"large",style:{width:"100%"},loading:g(i).loading,onClick:p},{default:o(()=>e[6]||(e[6]=[P(" Create Account ",-1)])),_:1,__:[6]},8,["loading"])]),_:1})]),_:1},8,["model"]),f("div",Z,[f("p",null,[e[8]||(e[8]=P(" Already have an account? ",-1)),r(E,{to:"/login",class:"link"},{default:o(()=>e[7]||(e[7]=[P("Login here",-1)])),_:1,__:[7]})])])])])}}}),ue=q($,[["__scopeId","data-v-e8c43d35"]]);export{ue as default};
