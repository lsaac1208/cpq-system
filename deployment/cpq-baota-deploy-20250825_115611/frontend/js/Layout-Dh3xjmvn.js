var S=Object.defineProperty;var v=(f,d)=>S(f,"name",{value:d,configurable:!0});var E=(f,d,_)=>new Promise((u,p)=>{var m=o=>{try{n(_.next(o))}catch(i){p(i)}},r=o=>{try{n(_.throw(o))}catch(i){p(i)}},n=o=>o.done?u(o.value):Promise.resolve(o.value).then(m,r);n((_=_.apply(f,d)).next())});import{u as V,s as b,_ as z}from"./index-CoBZUWE1.js";import"./el-tooltip-l0sNRNKZ.js";/* empty css                     *//* empty css                        *//* empty css                         */import{x as H,c as L,aB as P,j as R,w as q,y as K,Q as e,I as t,A as l,O as Q,u as a,M as g,H as h,K as j,al as F,aC as G,z as y}from"./vendor-vue-XfLkFKXI.js";import{n as J,o as O,p as T,d as U,b as W,u as X,q as Y,r as Z,t as $,v as ee,x as te,y as ne,z as oe,A as le,B as ae,C as se,D as ue,F as de,G as _e,H as re,I as ie,J as fe,K as pe,L as me}from"./vendor-ui-CE-ZhXxH.js";import"./vendor-pdf-BeW0Xq92.js";import"./vendor-utils-B8vW8fJV.js";const ce={class:"layout"},xe={class:"header-right"},we={class:"user-info"},ve=H({__name:"Layout",setup(f){const d=P(),_=G(),u=V(),p=L(()=>d.path);R(()=>E(this,null,function*(){if(u.isAuthenticated&&!u.user)try{yield u.loadUserProfile()}catch(r){}})),q([()=>u.user,()=>d.path],([r,n])=>{},{immediate:!0});const m=v(r=>{switch(r){case"profile":b.info("个人资料功能即将推出");break;case"logout":u.logout(),_.push("/login"),b.success("退出登录成功");break}},"handleCommand");return(r,n)=>{const o=W,i=U,c=Z,C=Y,k=T,M=O,s=te,A=se,B=ee,I=$,D=F("router-view"),N=me,x=J;return y(),K("div",ce,[e(x,null,{default:t(()=>[e(M,{class:"header"},{default:t(()=>{var w;return[n[2]||(n[2]=l("div",{class:"header-left"},[l("h1",{class:"title"},"CPQ系统")],-1)),l("div",xe,[l("span",we,Q((w=a(u).user)==null?void 0:w.full_name),1),e(k,{onCommand:m},{dropdown:t(()=>[e(C,null,{default:t(()=>[e(c,{command:"profile"},{default:t(()=>n[0]||(n[0]=[g("个人资料",-1)])),_:1,__:[0]}),e(c,{command:"logout",divided:""},{default:t(()=>n[1]||(n[1]=[g("退出登录",-1)])),_:1,__:[1]})]),_:1})]),default:t(()=>[e(i,{link:"",class:"user-dropdown"},{default:t(()=>[e(o,null,{default:t(()=>[e(a(X))]),_:1})]),_:1})]),_:1})])]}),_:1,__:[2]}),e(x,null,{default:t(()=>[e(I,{class:"sidebar",width:"200px"},{default:t(()=>[e(B,{"default-active":p.value,class:"sidebar-menu",router:"","background-color":"#f5f5f5","text-color":"#333","active-text-color":"#409eff"},{default:t(()=>[e(s,{index:"/"},{default:t(()=>[e(o,null,{default:t(()=>[e(a(ne))]),_:1}),n[3]||(n[3]=l("span",null,"仪表盘",-1))]),_:1,__:[3]}),e(s,{index:"/products"},{default:t(()=>[e(o,null,{default:t(()=>[e(a(oe))]),_:1}),n[4]||(n[4]=l("span",null,"产品管理",-1))]),_:1,__:[4]}),e(s,{index:"/search"},{default:t(()=>[e(o,null,{default:t(()=>[e(a(le))]),_:1}),n[5]||(n[5]=l("span",null,"产品搜索",-1))]),_:1,__:[5]}),e(s,{index:"/quotes"},{default:t(()=>[e(o,null,{default:t(()=>[e(a(ae))]),_:1}),n[6]||(n[6]=l("span",null,"报价管理",-1))]),_:1,__:[6]}),e(A,{index:"ai-features"},{title:t(()=>[e(o,null,{default:t(()=>[e(a(fe))]),_:1}),n[7]||(n[7]=l("span",null,"AI智能功能",-1))]),default:t(()=>[e(s,{index:"/ai-analysis-enhanced"},{default:t(()=>[e(o,null,{default:t(()=>[e(a(ue))]),_:1}),n[8]||(n[8]=l("span",null,"智能分析增强",-1))]),_:1,__:[8]}),e(s,{index:"/prompt-optimization"},{default:t(()=>[e(o,null,{default:t(()=>[e(a(de))]),_:1}),n[9]||(n[9]=l("span",null,"Prompt优化",-1))]),_:1,__:[9]}),e(s,{index:"/document-comparison"},{default:t(()=>[e(o,null,{default:t(()=>[e(a(_e))]),_:1}),n[10]||(n[10]=l("span",null,"文档对比",-1))]),_:1,__:[10]}),e(s,{index:"/batch-analysis"},{default:t(()=>[e(o,null,{default:t(()=>[e(a(re))]),_:1}),n[11]||(n[11]=l("span",null,"批量分析",-1))]),_:1,__:[11]}),e(s,{index:"/pricing-decision"},{default:t(()=>[e(o,null,{default:t(()=>[e(a(ie))]),_:1}),n[12]||(n[12]=l("span",null,"报价决策支持",-1))]),_:1,__:[12]})]),_:1}),a(u).isAdmin?(y(),h(s,{key:0,index:"/settings"},{default:t(()=>[e(o,null,{default:t(()=>[e(a(pe))]),_:1}),n[13]||(n[13]=l("span",null,"系统设置",-1))]),_:1,__:[13]})):j("",!0)]),_:1},8,["default-active"])]),_:1}),e(N,{class:"main-content"},{default:t(()=>[e(D)]),_:1})]),_:1})]),_:1})])}}}),De=z(ve,[["__scopeId","data-v-db359045"]]);export{De as default};
