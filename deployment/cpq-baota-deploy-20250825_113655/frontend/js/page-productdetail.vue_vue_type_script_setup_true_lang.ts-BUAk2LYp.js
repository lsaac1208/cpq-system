var e=Object.defineProperty,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,s=(a,l,i)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[l]=i,t=(e,t)=>{for(var o in t||(t={}))l.call(t,o)&&s(e,o,t[o]);if(a)for(var o of a(t))i.call(t,o)&&s(e,o,t[o]);return e},o=(e,a,l)=>new Promise((i,s)=>{var t=e=>{try{n(l.next(e))}catch(a){s(a)}},o=e=>{try{n(l.throw(e))}catch(a){s(a)}},n=e=>e.done?i(e.value):Promise.resolve(e.value).then(t,o);n((l=l.apply(e,a)).next())});import{V as n,d as c,a as r,ay as u,f as d,S as v,i as p,I as f,a1 as _,k as y,J as m,az as g,b5 as h,ak as b,q as k,s as w,b6 as A,b7 as V,aN as I,o as j,b3 as N,p as x,b8 as z,aO as D,m as T,b9 as M,$ as C,l as O,ba as W,aL as P,b0 as S,bb as U,bc as E,bd as Y,h as B,g as G,b as Z}from"./element-plus-DR0qywX_.js";import{z as F,r as H,Z as L,b as R,l as Q,V as J,A as $,M as q,L as K,C as X,S as ee,K as ae,Q as le,u as ie,J as se,P as te,R as oe,a8 as ne,T as ce,F as re,aA as ue,n as de,az as ve,B as pe,O as fe}from"./vue-BMWQU0Ry.js";import{s as _e}from"./utils-BjNHK8wL.js";import{u as ye,m as me}from"./api-BHu6TLr6.js";import{P as ge}from"./page-createproduct.vue_vue_type_script_setup_true_lang.ts-C9H6GPKB.js";const he={class:"product-detail"},be={key:0,class:"loading-container"},ke={class:"loading-content"},we={key:1,class:"error-container"},Ae={class:"error-content"},Ve={class:"error-actions"},Ie={key:2,class:"product-container"},je={class:"breadcrumb-section"},Ne={key:0,class:"admin-controls"},xe={key:1,class:"edit-controls"},ze={class:"product-main"},De={class:"product-gallery"},Te={class:"product-info"},Me={class:"product-status"},Ce={key:2,class:"status-controls"},Oe={class:"product-header-info"},We={key:0,class:"product-title"},Pe={key:2,class:"product-code"},Se={key:3,class:"product-code-edit"},Ue={class:"basic-info-card"},Ee={class:"info-item"},Ye={class:"info-label"},Be={key:0,class:"info-value"},Ge={class:"info-item"},Ze={class:"info-label"},Fe={key:0,class:"info-value price"},He={key:0,class:"price-note"},Le={class:"info-item"},Re={class:"info-label"},Qe={key:0,class:"info-value"},Je={class:"info-item"},$e={class:"info-label"},qe={class:"info-value"},Ke={key:0,class:"key-specs-preview"},Xe={class:"key-specs-grid"},ea={class:"spec-label"},aa={class:"spec-value"},la={class:"product-actions"},ia={class:"product-long-page-container"},sa={class:"nav-container"},ta={class:"nav-list"},oa=["href","onClick"],na={id:"overview",class:"content-section overview-section"},ca={class:"section-header"},ra={class:"section-content overview-content"},ua={key:0,class:"ai-source-notice"},da={class:"ai-notice-content"},va={class:"content-section"},pa={class:"product-description"},fa={key:0},_a={key:0,class:"application-scenarios"},ya={class:"scenario-list"},ma={key:1,class:"application-scenarios"},ga={id:"features",class:"content-section features-section"},ha={class:"section-header"},ba={class:"section-content features-content"},ka={class:"content-section"},wa={key:0,class:"features-grid"},Aa={class:"feature-icon"},Va={class:"feature-info"},Ia={key:1,class:"no-features-message"},ja={id:"specifications",class:"content-section specifications-section"},Na={class:"section-header"},xa={class:"section-content specifications-content"},za={class:"content-section"},Da={class:"spec-header"},Ta={key:0,class:"spec-controls"},Ma={key:0,class:"specifications-table"},Ca={key:1,class:"specifications-editor"},Oa={id:"accessories",class:"content-section accessories-section"},Wa={class:"section-header"},Pa={class:"section-content accessories-content"},Sa={class:"content-section"},Ua={key:0},Ea={class:"accessories-grid"},Ya={class:"accessory-icon"},Ba={class:"accessory-info"},Ga={key:1,class:"optional-accessories"},Za={class:"optional-list"},Fa={key:2,class:"no-accessories"},Ha={id:"certificates",class:"content-section certificates-section"},La={class:"section-header"},Ra={class:"section-content certificates-content"},Qa={class:"content-section"},Ja={key:0,class:"certificates-grid"},$a={class:"cert-icon"},qa={class:"cert-info"},Ka={key:0,class:"cert-number"},Xa={key:1,class:"no-certificates"},el={id:"support",class:"content-section support-section"},al={class:"section-header"},ll={class:"section-content support-content"},il={class:"content-section"},sl={key:0,class:"warranty-info"},tl={class:"warranty-card"},ol={class:"warranty-icon"},nl={class:"warranty-details"},cl={key:0},rl={key:1},ul={key:2},dl={key:1,class:"contact-support"},vl={class:"contact-grid"},pl={key:0,class:"contact-item"},fl={class:"contact-details"},_l={class:"contact-value"},yl={key:1,class:"contact-item"},ml={class:"contact-details"},gl={class:"contact-value"},hl={key:2,class:"contact-item"},bl={class:"contact-details"},kl={class:"contact-value"},wl={key:3,class:"contact-item"},Al={class:"contact-details"},Vl={class:"contact-value"},Il={key:2,class:"service-promise"},jl={class:"promise-list"},Nl={key:3,class:"no-support"},xl="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjE1MCIgdmlld0JveD0iMCAwIDIwMCAxNTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMTUwIiBmaWxsPSIjRjVGN0ZBIi8+CjxwYXRoIGQ9Ik03NyA2N0g4M1Y3M0g3N1Y2N1pNODMgNjFINzdWNjdIODNWNjFaTTc3IDczSDgzVjc5SDc3VjczWk04OSA2N0g5NVY3M0g4OVY2N1pNOTUgNjFIOTlWNjdIOTVWNjFaTTEwMSA2N0gxMDdWNzNIMTAxVjY3Wk0xMDcgNjFIMTEzVjY3SDEwN1Y2MVpNMTEzIDY3SDExOVY3M0gxMTNWNjdaTTExOSA2MUgxMjVWNjdIMTE5VjYxWiIgZmlsbD0iI0MwQzRDQyIvPgo8dGV4dCB4PSIxMDAiIHk9IjkwIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZpbGw9IiM5MDkzOTkiIHRleHQtYW5jaG9yPSJtaWRkbGUiPueUn+WTgeWbvueJhzwvdGV4dD4KPC9zdmc+",zl=F({__name:"ProductDetail",setup(e){const a=ue();ve();const l=ye(),i=H(!1),s=H(!1),F=H(""),zl=H(null),Dl=H(!1),Tl=H(!1);H(0);const Ml=H("overview"),Cl=H(),Ol=H(),Wl=H([{id:"overview",label:"产品简介",icon:"Document"},{id:"features",label:"产品特点",icon:"Star"},{id:"specifications",label:"技术参数",icon:"Grid"},{id:"accessories",label:"附件配件",icon:"Box"},{id:"certificates",label:"检定证书",icon:"Medal"},{id:"support",label:"售后保障",icon:"Service"}]),Pl=L({name:"",code:"",category:"",description:"",base_price:0,image_url:"",is_active:!0,is_configurable:!1,configuration_schema:{},specifications:{},detailed_description:"",application_scenarios:[],features:[],accessories:[],certificates:[],support_info:{warranty:{period:"",coverage:"",terms:[]},contact_info:{},service_promises:[]}}),Sl=R(()=>{if(!zl.value)return xl;try{const e=zl.value.image_url||zl.value.image||zl.value.photo_url||null;if(e&&"string"==typeof e&&e.trim())return e.startsWith("/")||e.startsWith("http")?e:"/images/products/".concat(e)}catch(e){}return xl}),Ul=R(()=>{if(!zl.value)return!1;try{const e=zl.value.image_url||zl.value.image||zl.value.photo_url;return e&&"string"==typeof e&&e.trim().length>0}catch(e){return!1}}),El=e=>{zl.value&&e&&"string"==typeof e&&(zl.value.image_url=e,Pl.image_url=e)},Yl=e=>{if(Array.isArray(e)&&zl.value)try{const a=e.find(e=>e&&e.is_primary&&e.image_url);a&&(zl.value.image_url=a.image_url,Pl.image_url=a.image_url)}catch(a){}};R(()=>{const e=[];return Ul.value?e.push(Sl.value):e.push(xl),e});const Bl=R(()=>{var e;if(!(null==(e=zl.value)?void 0:e.specifications)||"object"!=typeof zl.value.specifications)return[];try{return Object.entries(zl.value.specifications).slice(0,4).map(([e,a])=>{const l=Zl(e,a);return{key:e,label:l.label,value:l.displayValue+(l.unit?l.unit:"")}})}catch(a){return[]}}),Gl=R(()=>{var e;if(!(null==(e=zl.value)?void 0:e.specifications)||"object"!=typeof zl.value.specifications)return[];try{return Object.entries(zl.value.specifications).map(([e,a])=>Zl(e,a))}catch(a){return[]}}),Zl=(e,a)=>{const l={power:"功率",voltage:"电压",current:"电流",speed:"转速",efficiency:"效率",weight:"重量",dimensions:"尺寸",protection:"防护等级",mounting:"安装方式",cooling:"冷却方式","电压":"电压","电流":"电流","额定功率":"额定功率"}[e]||e;let i,s,t;return null==a?i="-":"object"==typeof a?Array.isArray(a)?i=a.join(", "):void 0!==a.value?(i=String(a.value),s=a.unit,t=a.description):void 0!==a.min&&void 0!==a.max?(i="".concat(a.min,"-").concat(a.max),s=a.unit,t=a.description):i="多参数配置":i="boolean"==typeof a?a?"是":"否":String(a),{label:l,value:a,displayValue:i,unit:s||"",description:t||""}},Fl=()=>o(this,null,function*(){var e,l,s,o,n,c,r,u,d,v,p,f,_,y,m,g,h,b,k;const w=a.params.id;if(w){i.value=!0,F.value="";try{const a=yield me.get("/products/".concat(w)),i=(null==(e=a.data)?void 0:e.product)||a.product||a.data;zl.value=i,Object.assign(Pl,{name:(null==(l=zl.value)?void 0:l.name)||"",code:(null==(s=zl.value)?void 0:s.code)||"",category:(null==(o=zl.value)?void 0:o.category)||"",description:(null==(n=zl.value)?void 0:n.description)||"",base_price:(null==(c=zl.value)?void 0:c.base_price)?parseFloat(zl.value.base_price):0,image_url:(null==(r=zl.value)?void 0:r.image_url)||"",is_active:Boolean(null==(u=zl.value)?void 0:u.is_active),is_configurable:Boolean(null==(d=zl.value)?void 0:d.is_configurable),configuration_schema:(null==(v=zl.value)?void 0:v.configuration_schema)&&"object"==typeof zl.value.configuration_schema?t({},zl.value.configuration_schema):{},specifications:(null==(p=zl.value)?void 0:p.specifications)&&"object"==typeof zl.value.specifications?t({},zl.value.specifications):{},detailed_description:(null==(f=zl.value)?void 0:f.detailed_description)||"",application_scenarios:Array.isArray(null==(_=zl.value)?void 0:_.application_scenarios)?[...zl.value.application_scenarios]:[],features:Array.isArray(null==(y=zl.value)?void 0:y.features)?[...zl.value.features]:[],accessories:Array.isArray(null==(m=zl.value)?void 0:m.accessories)?[...zl.value.accessories]:[],certificates:Array.isArray(null==(g=zl.value)?void 0:g.certificates)?[...zl.value.certificates]:[],support_info:(null==(h=zl.value)?void 0:h.support_info)||{warranty:{period:"",coverage:"",terms:[]},contact_info:{},service_promises:[]}})}catch(A){F.value=(null==(k=null==(b=A.response)?void 0:b.data)?void 0:k.message)||"加载产品信息失败"}finally{i.value=!1}}}),Hl=()=>{Dl.value=!0},Ll=()=>{Dl.value=!1,Object.assign(Pl,{name:zl.value.name,code:zl.value.code,category:zl.value.category||"",description:zl.value.description||"",base_price:parseFloat(zl.value.base_price),image_url:zl.value.image_url||"",is_active:zl.value.is_active,is_configurable:zl.value.is_configurable,configuration_schema:t({},zl.value.configuration_schema),specifications:t({},zl.value.specifications)}),R(()=>{var e;return(null==(e=zl.value)?void 0:e.accessories)&&Array.isArray(zl.value.accessories)&&zl.value.accessories.filter(e=>e&&"standard"===e.type)||[]}),R(()=>{var e;return(null==(e=zl.value)?void 0:e.accessories)&&Array.isArray(zl.value.accessories)&&zl.value.accessories.filter(e=>e&&"optional"===e.type)||[]});const e=R(()=>{var e,a;if(!(null==(a=null==(e=zl.value)?void 0:e.support_info)?void 0:a.contact_info))return!1;const l=zl.value.support_info.contact_info;return!!((null==l?void 0:l.sales_phone)||(null==l?void 0:l.sales_email)||(null==l?void 0:l.support_phone)||(null==l?void 0:l.support_email)||(null==l?void 0:l.service_wechat))});R(()=>{var a,l,i,s;if(!(null==(a=zl.value)?void 0:a.support_info))return!1;const t=zl.value.support_info,o=(null==(l=null==t?void 0:t.warranty)?void 0:l.period)||(null==(i=null==t?void 0:t.warranty)?void 0:i.coverage)||(null==(s=null==t?void 0:t.warranty)?void 0:s.terms)&&Array.isArray(t.warranty.terms)&&t.warranty.terms.length>0,n=(null==t?void 0:t.service_promises)&&Array.isArray(t.service_promises)&&t.service_promises.length>0;return!!(o||e.value||n)}),R(()=>{if(!zl.value)return!1;const e=zl.value.features&&Array.isArray(zl.value.features)&&zl.value.features.length>0,a=zl.value.specifications&&"object"==typeof zl.value.specifications&&Object.keys(zl.value.specifications).length>3,l=zl.value.application_scenarios&&Array.isArray(zl.value.application_scenarios)&&zl.value.application_scenarios.length>0,i=zl.value.detailed_description&&zl.value.detailed_description.length>50,s=zl.value.created_at&&Date.now()-new Date(zl.value.created_at).getTime()<864e5,t=[e,a,l,i].filter(Boolean).length;return s&&t>=2})},Rl=()=>o(this,null,function*(){var e,l,i,t;s.value=!0;try{const e=a.params.id,l={name:Pl.name,code:Pl.code,description:Pl.description,category:Pl.category,base_price:Pl.base_price,image_url:Pl.image_url,configuration_schema:Pl.configuration_schema||{},specifications:Pl.specifications||{},is_active:Pl.is_active,is_configurable:Pl.is_configurable};yield me.put("/products/".concat(e),l),Object.assign(zl.value,l),_e.success("产品信息已保存"),Dl.value=!1}catch(o){const a=(null==(l=null==(e=o.response)?void 0:e.data)?void 0:l.error)||(null==(t=null==(i=o.response)?void 0:i.data)?void 0:t.message)||"保存失败";_e.error(a)}finally{s.value=!1}}),Ql=()=>{const e="spec_".concat(Date.now());Pl.specifications[e]={label:"",value:"",unit:"",description:""}},Jl=()=>o(this,null,function*(){var e;if(zl.value&&!Tl.value){Tl.value=!0;try{yield new Promise(e=>setTimeout(e,1e3)),_e.success('产品 "'.concat((null==(e=zl.value)?void 0:e.name)||"未知产品",'" 已添加到询价单'))}catch(a){_e.error("加入询价单失败，请稍后重试")}finally{Tl.value=!1}}}),$l=()=>{Z.alert("请拨打销售热线 400-123-4567 或发送邮件至 sales@company.com","联系供应商",{confirmButtonText:"确定",type:"info"})},ql=()=>o(this,null,function*(){if(!zl.value)return;const e=window.location.href,a="".concat(zl.value.name," - ").concat(zl.value.description||"优质产品");if(navigator.share)try{yield navigator.share({title:zl.value.name,text:a,url:e})}catch(l){}else try{yield navigator.clipboard.writeText(e),_e.success("产品链接已复制到剪贴板")}catch(l){_e.error("分享失败")}}),Kl=(e,a)=>{var l;a&&a.preventDefault();const i=document.getElementById(e);if(i){const a=(null==(l=Cl.value)?void 0:l.offsetHeight)||0,s=i.offsetTop-a-20;window.scrollTo({top:s,behavior:"smooth"}),Ml.value=e,window.history.replaceState(null,"","#".concat(e))}},Xl=()=>o(this,null,function*(){yield de();const e=window.location.hash.substring(1);e&&Wl.value.some(a=>a.id===e)&&setTimeout(()=>{Kl(e)},100)}),ei=H(!1),ai=()=>{window.scrollTo({top:0,behavior:"smooth"})},li=()=>{(()=>{var e;const a=(null==(e=Cl.value)?void 0:e.offsetHeight)||0,l=window.pageYOffset||document.documentElement.scrollTop;for(let i=Wl.value.length-1;i>=0;i--){const e=Wl.value[i],s=document.getElementById(e.id);if(s&&s.offsetTop-a-50<=l){Ml.value=e.id;break}}})(),ei.value=window.pageYOffset>300};return Q(()=>o(this,null,function*(){yield Fl(),yield Xl(),window.addEventListener("scroll",li,{passive:!0})})),J(()=>{window.removeEventListener("scroll",li)}),(e,a)=>{var t,o,Z,H,L,R,Q,J,ue,de,ve,_e,ye,me,xl,Sl,Ul,Zl,Xl,li,ii,si,ti,oi,ni,ci;const ri=n,ui=c,di=r,vi=g,pi=u,fi=d,_i=v,yi=p,mi=y,gi=f,hi=C,bi=_,ki=B,wi=G;return pe(),$("div",he,[i.value?(pe(),$("div",be,[X("div",ke,[ee(ri,{rows:12,animated:""})])])):F.value?(pe(),$("div",we,[X("div",Ae,[ee(ui,{size:"64",color:"#f56c6c"},{default:ae(()=>[ee(ie(m))]),_:1}),a[12]||(a[12]=X("h2",null,"产品未找到",-1)),X("p",null,le(F.value),1),X("div",Ve,[ee(di,{onClick:a[0]||(a[0]=a=>e.$router.go(-1))},{default:ae(()=>a[10]||(a[10]=[te("返回上一页",-1)])),_:1,__:[10]}),ee(di,{type:"primary",onClick:a[1]||(a[1]=a=>e.$router.push("/products"))},{default:ae(()=>a[11]||(a[11]=[te("浏览产品",-1)])),_:1,__:[11]})])])])):zl.value?(pe(),$("div",Ie,[X("div",je,[ee(pi,{separator:"/"},{default:ae(()=>[ee(vi,{to:{path:"/"}},{default:ae(()=>[ee(ui,null,{default:ae(()=>[ee(ie(h))]),_:1}),a[13]||(a[13]=te(" 首页 ",-1))]),_:1,__:[13]}),ee(vi,{to:{path:ie(l).isAdmin?"/products":"/search"}},{default:ae(()=>[te(le(ie(l).isAdmin?"产品管理":"产品中心"),1)]),_:1},8,["to"]),zl.value.category?(pe(),se(vi,{key:0},{default:ae(()=>[te(le(zl.value.category),1)]),_:1})):q("",!0),ee(vi,null,{default:ae(()=>[te(le(Dl.value?"编辑产品":zl.value.name),1)]),_:1})]),_:1}),ie(l).canEditProducts?(pe(),$("div",Ne,[Dl.value?(pe(),$("div",xe,[ee(di,{onClick:Ll},{default:ae(()=>a[15]||(a[15]=[te("取消编辑",-1)])),_:1,__:[15]}),ee(di,{type:"primary",onClick:Rl,loading:s.value},{default:ae(()=>[ee(ui,null,{default:ae(()=>[ee(ie(k))]),_:1}),a[16]||(a[16]=te(" 保存修改 ",-1))]),_:1,__:[16]},8,["loading"])])):(pe(),se(di,{key:0,type:"primary",onClick:Hl},{default:ae(()=>[ee(ui,null,{default:ae(()=>[ee(ie(b))]),_:1}),a[14]||(a[14]=te(" 编辑产品 ",-1))]),_:1,__:[14]}))])):q("",!0)]),X("div",ze,[X("div",De,[(null==(t=zl.value)?void 0:t.id)?(pe(),se(ge,{key:0,"product-id":zl.value.id,"edit-mode":Dl.value&&ie(l).canEditProducts,"can-edit":ie(l).canEditProducts,height:"400px",onRefresh:Fl,onImageChange:El,onImagesUpdate:Yl},null,8,["product-id","edit-mode","can-edit"])):q("",!0)]),X("div",Te,[X("div",Me,[ee(fi,{type:(Dl.value?Pl.is_active:zl.value.is_active)?"success":"danger",size:"large",effect:"light"},{default:ae(()=>[te(le((Dl.value?Pl.is_active:zl.value.is_active)?"有效产品":"已停产"),1)]),_:1},8,["type"]),(Dl.value?Pl.is_configurable:zl.value.is_configurable)?(pe(),se(fi,{key:0,type:"primary",size:"large",effect:"light"},{default:ae(()=>[ee(ui,null,{default:ae(()=>[ee(ie(w))]),_:1}),a[17]||(a[17]=te(" 可定制配置 ",-1))]),_:1,__:[17]})):q("",!0),e.isCreatedFromAI?(pe(),se(fi,{key:1,type:"warning",size:"large",effect:"light"},{default:ae(()=>[ee(ui,null,{default:ae(()=>[ee(ie(A))]),_:1}),a[18]||(a[18]=te(" AI智能创建 ",-1))]),_:1,__:[18]})):q("",!0),Dl.value&&ie(l).canEditProducts?(pe(),$("div",Ce,[ee(_i,{modelValue:Pl.is_active,"onUpdate:modelValue":a[2]||(a[2]=e=>Pl.is_active=e),"active-text":"启用","inactive-text":"禁用","inline-prompt":""},null,8,["modelValue"]),ee(_i,{modelValue:Pl.is_configurable,"onUpdate:modelValue":a[3]||(a[3]=e=>Pl.is_configurable=e),"active-text":"可配置","inactive-text":"固定","inline-prompt":""},null,8,["modelValue"])])):q("",!0)]),X("div",Oe,[Dl.value?(pe(),se(yi,{key:1,modelValue:Pl.name,"onUpdate:modelValue":a[4]||(a[4]=e=>Pl.name=e),class:"product-title-edit",size:"large",placeholder:"请输入产品名称"},null,8,["modelValue"])):(pe(),$("h1",We,le(zl.value.name),1)),Dl.value?(pe(),$("div",Se,[a[19]||(a[19]=X("span",null,"产品编码: ",-1)),ee(yi,{modelValue:Pl.code,"onUpdate:modelValue":a[5]||(a[5]=e=>Pl.code=e),style:{width:"200px"},placeholder:"请输入产品编码"},null,8,["modelValue"])])):(pe(),$("p",Pe,"产品编码: "+le(zl.value.code),1))]),X("div",Ue,[X("div",Ee,[X("div",Ye,[ee(ui,null,{default:ae(()=>[ee(ie(V))]),_:1}),a[20]||(a[20]=te(" 产品分类 ",-1))]),Dl.value?(pe(),se(yi,{key:1,modelValue:Pl.category,"onUpdate:modelValue":a[6]||(a[6]=e=>Pl.category=e),class:"info-value-edit",placeholder:"请输入产品分类"},null,8,["modelValue"])):(pe(),$("div",Be,le(zl.value.category||"未分类"),1))]),X("div",Ge,[X("div",Ze,[ee(ui,null,{default:ae(()=>[ee(ie(I))]),_:1}),a[21]||(a[21]=te(" 基础价格 ",-1))]),Dl.value?(pe(),se(mi,{key:1,modelValue:Pl.base_price,"onUpdate:modelValue":a[7]||(a[7]=e=>Pl.base_price=e),min:0,precision:2,class:"info-value-edit"},null,8,["modelValue"])):(pe(),$("div",Fe,[te(" ¥"+le((Vi=zl.value.base_price,("string"==typeof Vi?parseFloat(Vi):Vi).toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2})))+" ",1),zl.value.is_configurable?(pe(),$("span",He,"起")):q("",!0)]))]),X("div",Le,[X("div",Re,[ee(ui,null,{default:ae(()=>[ee(ie(j))]),_:1}),a[22]||(a[22]=te(" 产品描述 ",-1))]),Dl.value?(pe(),se(yi,{key:1,modelValue:Pl.description,"onUpdate:modelValue":a[8]||(a[8]=e=>Pl.description=e),type:"textarea",rows:3,class:"info-value-edit",placeholder:"请输入产品描述"},null,8,["modelValue"])):(pe(),$("div",Qe,le(zl.value.description||"暂无描述"),1))]),X("div",Je,[X("div",$e,[ee(ui,null,{default:ae(()=>[ee(ie(N))]),_:1}),a[23]||(a[23]=te(" 发布时间 ",-1))]),X("div",qe,le((Ai=zl.value.created_at,new Date(Ai).toLocaleDateString("zh-CN"))),1)])]),Bl.value.length>0?(pe(),$("div",Ke,[a[24]||(a[24]=X("h3",null,"核心规格",-1)),X("div",Xe,[(pe(!0),$(oe,null,ne(Bl.value,e=>(pe(),$("div",{key:e.key,class:"key-spec-item"},[X("div",ea,le(e.label),1),X("div",aa,le(e.value),1)]))),128))])])):q("",!0),X("div",la,[ie(l).isAdmin?q("",!0):(pe(),se(di,{key:0,type:"primary",size:"large",loading:Tl.value,onClick:Jl},{default:ae(()=>[ee(ui,null,{default:ae(()=>[ee(ie(x))]),_:1}),a[25]||(a[25]=te(" 加入询价单 ",-1))]),_:1,__:[25]},8,["loading"])),ie(l).isAdmin?q("",!0):(pe(),se(di,{key:1,size:"large",onClick:$l},{default:ae(()=>[ee(ui,null,{default:ae(()=>[ee(ie(z))]),_:1}),a[26]||(a[26]=te(" 联系供应商 ",-1))]),_:1,__:[26]})),ie(l).isAdmin?q("",!0):(pe(),se(di,{key:2,size:"large",onClick:ql},{default:ae(()=>[ee(ui,null,{default:ae(()=>[ee(ie(D))]),_:1}),a[27]||(a[27]=te(" 分享产品 ",-1))]),_:1,__:[27]}))])])]),X("div",ia,[X("div",{class:"anchor-navigation",ref_key:"anchorNav",ref:Cl},[X("div",sa,[X("div",ta,[(pe(!0),$(oe,null,ne(Wl.value,e=>(pe(),$("a",{key:e.id,href:"#".concat(e.id),class:re(["nav-item",{active:Ml.value===e.id}]),onClick:a=>Kl(e.id,a)},[ee(ui,null,{default:ae(()=>[(pe(),se(fe(e.icon)))]),_:2},1024),X("span",null,le(e.label),1)],10,oa))),128))])])],512),X("div",{class:"long-page-content",ref_key:"longPageContent",ref:Ol},[X("section",na,[X("div",ca,[X("h2",null,[ee(ui,null,{default:ae(()=>[ee(ie(j))]),_:1}),a[28]||(a[28]=te(" 产品简介 ",-1))])]),X("div",ra,[e.isCreatedFromAI?(pe(),$("div",ua,[X("div",da,[ee(ui,{class:"ai-icon"},{default:ae(()=>[ee(ie(A))]),_:1}),a[29]||(a[29]=X("div",{class:"ai-text"},[X("h4",null,"AI智能分析生成"),X("p",null,"此产品信息由AI智能分析文档生成，包含自动提取的技术规格、产品特性和应用场景。")],-1))])])):q("",!0),X("div",va,[a[33]||(a[33]=X("h3",null,"产品介绍",-1)),X("div",pa,[Dl.value?(pe(),se(yi,{key:1,modelValue:Pl.detailed_description,"onUpdate:modelValue":a[9]||(a[9]=e=>Pl.detailed_description=e),type:"textarea",rows:8,placeholder:"请输入产品详细介绍",class:"description-editor"},null,8,["modelValue"])):(pe(),$("p",fa,le(zl.value.detailed_description||zl.value.description||"请在编辑模式中添加产品详细介绍"),1))]),(null==(o=zl.value)?void 0:o.application_scenarios)&&Array.isArray(zl.value.application_scenarios)&&zl.value.application_scenarios.length>0?(pe(),$("div",_a,[X("h4",null,[ee(ui,null,{default:ae(()=>[ee(ie(w))]),_:1}),a[30]||(a[30]=te("应用场景",-1))]),X("ul",ya,[(pe(!0),$(oe,null,ne(zl.value.application_scenarios,e=>(pe(),$("li",{key:e.id},[e.icon?(pe(),se(ui,{key:0},{default:ae(()=>[(pe(),se(fe(e.icon)))]),_:2},1024)):(pe(),se(ui,{key:1},{default:ae(()=>[ee(ie(T))]),_:1})),te(" "+le(e.name),1)]))),128))])])):Dl.value?q("",!0):(pe(),$("div",ma,[X("h4",null,[ee(ui,null,{default:ae(()=>[ee(ie(w))]),_:1}),a[31]||(a[31]=te("应用场景",-1))]),a[32]||(a[32]=X("p",{class:"no-data"},"暂未设置应用场景信息",-1))]))])])]),X("section",ga,[X("div",ha,[X("h2",null,[ee(ui,null,{default:ae(()=>[ee(ie(T))]),_:1}),a[34]||(a[34]=te(" 产品特点 ",-1))])]),X("div",ba,[X("div",ka,[a[35]||(a[35]=X("h3",null,"产品优势特点",-1)),(null==(Z=zl.value)?void 0:Z.features)&&Array.isArray(zl.value.features)&&zl.value.features.length>0?(pe(),$("div",wa,[(pe(!0),$(oe,null,ne(zl.value.features,e=>(pe(),$("div",{key:e.id,class:"feature-card"},[X("div",Aa,[e.icon?(pe(),se(ui,{key:0,color:"#2563eb"},{default:ae(()=>[(pe(),se(fe(e.icon)))]),_:2},1024)):(pe(),se(ui,{key:1,color:"#2563eb"},{default:ae(()=>[ee(ie(T))]),_:1}))]),X("div",Va,[X("h4",null,le(e.title),1),X("p",null,le(e.description),1)])]))),128))])):(pe(),$("div",Ia,[ee(gi,{description:"暂未设置产品特点信息"},{image:ae(()=>[ee(ui,{size:"60",color:"#d1d5db"},{default:ae(()=>[ee(ie(T))]),_:1})]),_:1})]))])])]),X("section",ja,[X("div",Na,[X("h2",null,[ee(ui,null,{default:ae(()=>[ee(ie(M))]),_:1}),a[36]||(a[36]=te(" 技术参数 ",-1))])]),X("div",xa,[X("div",za,[X("div",Da,[X("h3",null,[ee(ui,null,{default:ae(()=>[ee(ie(M))]),_:1}),a[37]||(a[37]=te("技术参数",-1))]),Dl.value&&ie(l).canEditProducts?(pe(),$("div",Ta,[ee(di,{type:"primary",size:"small",onClick:Ql},{default:ae(()=>[ee(ui,null,{default:ae(()=>[ee(ie(x))]),_:1}),a[38]||(a[38]=te(" 添加规格 ",-1))]),_:1,__:[38]})])):q("",!0)]),Dl.value?(pe(),$("div",Ca,[(pe(!0),$(oe,null,ne(Pl.specifications,(e,a)=>(pe(),$("div",{key:a,class:"spec-edit-item"},[ee(wi,{gutter:16},{default:ae(()=>[ee(ki,{span:6},{default:ae(()=>[ee(yi,{modelValue:e.label,"onUpdate:modelValue":a=>e.label=a,placeholder:"规格名称"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),ee(ki,{span:6},{default:ae(()=>[ee(yi,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,placeholder:"数值"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),ee(ki,{span:4},{default:ae(()=>[ee(yi,{modelValue:e.unit,"onUpdate:modelValue":a=>e.unit=a,placeholder:"单位"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),ee(ki,{span:6},{default:ae(()=>[ee(yi,{modelValue:e.description,"onUpdate:modelValue":a=>e.description=a,placeholder:"说明"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),ee(ki,{span:2},{default:ae(()=>[ee(di,{type:"danger",icon:"Delete",onClick:e=>(e=>{delete Pl.specifications[e]})(a)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]))),128))])):(pe(),$("div",Ma,[ee(bi,{data:Gl.value,stripe:"",class:"spec-table"},{default:ae(()=>[ee(hi,{prop:"label",label:"参数名称",width:"200"}),ee(hi,{prop:"displayValue",label:"数值",width:"150"}),ee(hi,{prop:"unit",label:"单位",width:"100"}),ee(hi,{prop:"description",label:"说明"})]),_:1},8,["data"])]))])])]),X("section",Oa,[X("div",Wa,[X("h2",null,[ee(ui,null,{default:ae(()=>[ee(ie(O))]),_:1}),a[39]||(a[39]=te(" 附件配件 ",-1))])]),X("div",Pa,[X("div",Sa,[e.standardAccessories&&e.standardAccessories.length>0?(pe(),$("div",Ua,[X("h3",null,[ee(ui,null,{default:ae(()=>[ee(ie(O))]),_:1}),a[40]||(a[40]=te("标准配置",-1))]),X("div",Ea,[(pe(!0),$(oe,null,ne(e.standardAccessories,e=>(pe(),$("div",{key:e.id,class:"accessory-item"},[X("div",Ya,[e.icon?(pe(),se(ui,{key:0},{default:ae(()=>[(pe(),se(fe(e.icon)))]),_:2},1024)):(pe(),se(ui,{key:1},{default:ae(()=>[ee(ie(O))]),_:1}))]),X("div",Ba,[X("h4",null,le(e.name),1),X("p",null,le(e.description),1)])]))),128))])])):q("",!0),e.optionalAccessories&&e.optionalAccessories.length>0?(pe(),$("div",Ga,[X("h4",null,[ee(ui,null,{default:ae(()=>[ee(ie(x))]),_:1}),a[41]||(a[41]=te("可选配件",-1))]),X("ul",Za,[(pe(!0),$(oe,null,ne(e.optionalAccessories,e=>(pe(),$("li",{key:e.id},le(e.name)+" - "+le(e.description),1))),128))])])):q("",!0),(null==(H=zl.value)?void 0:H.accessories)&&Array.isArray(zl.value.accessories)&&0!==zl.value.accessories.length?q("",!0):(pe(),$("div",Fa,[ee(gi,{description:"暂未设置配件信息"},{image:ae(()=>[ee(ui,{size:"60",color:"#d1d5db"},{default:ae(()=>[ee(ie(O))]),_:1})]),_:1})]))])])]),X("section",Ha,[X("div",La,[X("h2",null,[ee(ui,null,{default:ae(()=>[ee(ie(W))]),_:1}),a[42]||(a[42]=te(" 检定证书 ",-1))])]),X("div",Ra,[X("div",Qa,[X("h3",null,[ee(ui,null,{default:ae(()=>[ee(ie(W))]),_:1}),a[43]||(a[43]=te("质量认证",-1))]),(null==(L=zl.value)?void 0:L.certificates)&&Array.isArray(zl.value.certificates)&&zl.value.certificates.length>0?(pe(),$("div",Ja,[(pe(!0),$(oe,null,ne(zl.value.certificates,e=>(pe(),$("div",{key:e.id,class:"certificate-card"},[X("div",$a,[ee(ui,null,{default:ae(()=>[ee(ie(W))]),_:1})]),X("div",qa,[X("h4",null,le(e.name),1),X("p",null,le(e.description),1),e.certificate_number?(pe(),$("p",Ka," 证书编号: "+le(e.certificate_number),1)):q("",!0)])]))),128))])):(pe(),$("div",Xa,[ee(gi,{description:"暂未设置证书信息"},{image:ae(()=>[ee(ui,{size:"60",color:"#d1d5db"},{default:ae(()=>[ee(ie(W))]),_:1})]),_:1})]))])])]),X("section",el,[X("div",al,[X("h2",null,[ee(ui,null,{default:ae(()=>[ee(ie(P))]),_:1}),a[44]||(a[44]=te(" 售后保障 ",-1))])]),X("div",ll,[X("div",il,[X("h3",null,[ee(ui,null,{default:ae(()=>[ee(ie(P))]),_:1}),a[45]||(a[45]=te("服务承诺",-1))]),(null==(R=zl.value.support_info)?void 0:R.warranty)?(pe(),$("div",sl,[X("div",tl,[X("div",ol,[ee(ui,{color:"#059669"},{default:ae(()=>[ee(ie(S))]),_:1})]),X("div",nl,[a[46]||(a[46]=X("h4",null,"质量保证",-1)),(null==(ue=null==(J=null==(Q=zl.value)?void 0:Q.support_info)?void 0:J.warranty)?void 0:ue.period)?(pe(),$("p",cl," 质保期："+le(zl.value.support_info.warranty.period),1)):q("",!0),(null==(_e=null==(ve=null==(de=zl.value)?void 0:de.support_info)?void 0:ve.warranty)?void 0:_e.coverage)?(pe(),$("p",rl,le(zl.value.support_info.warranty.coverage),1)):q("",!0),(null==(Sl=null==(xl=null==(me=null==(ye=zl.value)?void 0:ye.support_info)?void 0:me.warranty)?void 0:xl.terms)?void 0:Sl.length)>0?(pe(),$("div",ul,[(pe(!0),$(oe,null,ne(zl.value.support_info.warranty.terms,(e,a)=>(pe(),$("p",{key:a},le(e),1))),128))])):q("",!0)])])])):q("",!0),e.hasContactInfo?(pe(),$("div",dl,[X("h4",null,[ee(ui,null,{default:ae(()=>[ee(ie(z))]),_:1}),a[47]||(a[47]=te("联系我们",-1))]),X("div",vl,[(null==(Zl=null==(Ul=zl.value.support_info)?void 0:Ul.contact_info)?void 0:Zl.sales_phone)?(pe(),$("div",pl,[ee(ui,null,{default:ae(()=>[ee(ie(z))]),_:1}),X("div",fl,[a[48]||(a[48]=X("div",{class:"contact-label"},"销售热线",-1)),X("div",_l,le(zl.value.support_info.contact_info.sales_phone),1)])])):q("",!0),(null==(li=null==(Xl=zl.value.support_info)?void 0:Xl.contact_info)?void 0:li.sales_email)?(pe(),$("div",yl,[ee(ui,null,{default:ae(()=>[ee(ie(U))]),_:1}),X("div",ml,[a[49]||(a[49]=X("div",{class:"contact-label"},"邮箱咨询",-1)),X("div",gl,le(zl.value.support_info.contact_info.sales_email),1)])])):q("",!0),(null==(si=null==(ii=zl.value.support_info)?void 0:ii.contact_info)?void 0:si.service_wechat)?(pe(),$("div",hl,[ee(ui,null,{default:ae(()=>[ee(ie(E))]),_:1}),X("div",bl,[a[50]||(a[50]=X("div",{class:"contact-label"},"在线客服",-1)),X("div",kl,"微信: "+le(zl.value.support_info.contact_info.service_wechat),1)])])):q("",!0),(null==(oi=null==(ti=zl.value.support_info)?void 0:ti.contact_info)?void 0:oi.support_email)?(pe(),$("div",wl,[ee(ui,null,{default:ae(()=>[ee(ie(P))]),_:1}),X("div",Al,[a[51]||(a[51]=X("div",{class:"contact-label"},"技术支持",-1)),X("div",Vl,le(zl.value.support_info.contact_info.support_email),1)])])):q("",!0)])])):q("",!0),(null==(ci=null==(ni=zl.value)?void 0:ni.support_info)?void 0:ci.service_promises)&&Array.isArray(zl.value.support_info.service_promises)&&zl.value.support_info.service_promises.length>0?(pe(),$("div",Il,[X("h4",null,[ee(ui,null,{default:ae(()=>[ee(ie(T))]),_:1}),a[52]||(a[52]=te("服务承诺",-1))]),X("ul",jl,[(pe(!0),$(oe,null,ne(zl.value.support_info.service_promises,(e,a)=>(pe(),$("li",{key:a}," ✓ "+le(e),1))),128))])])):q("",!0),e.hasSupportInfo?q("",!0):(pe(),$("div",Nl,[ee(gi,{description:"暂未设置售后保障信息"},{image:ae(()=>[ee(ui,{size:"60",color:"#d1d5db"},{default:ae(()=>[ee(ie(P))]),_:1})]),_:1})]))])])])],512)])])):q("",!0),K(X("button",{class:re(["back-to-top",{visible:ei.value}]),onClick:ai,"aria-label":"回到顶部"},[ee(ui,null,{default:ae(()=>[ee(ie(Y))]),_:1})],2),[[ce,ei.value]])]);var Ai,Vi}}});export{zl as _};
