# CPQç³»ç»Ÿç´§æ€¥ä¿®å¤éƒ¨ç½²æŒ‡å—

## ğŸš¨ ç´§æ€¥æƒ…å†µè¯´æ˜

å¦‚æœæ­£å¸¸çš„ä¿®å¤ç‰ˆæœ¬ä»ç„¶å‡ºç°504é”™è¯¯ï¼Œè¯·ä½¿ç”¨è¿™ä¸ªç´§æ€¥æ¨¡å¼ã€‚

## ğŸ“¦ ç´§æ€¥éƒ¨ç½²æ­¥éª¤

### 1. åœæ­¢å½“å‰æœåŠ¡
```bash
# åœ¨å®å¡”é¢æ¿ä¸­åœæ­¢Pythoné¡¹ç›®
# æˆ–è€…ä½¿ç”¨å‘½ä»¤è¡Œ
pkill -f "python.*app.py"
```

### 2. å¤‡ä»½å½“å‰ä»£ç 
```bash
cp -r /path/to/current/api /path/to/backup/api_backup_emergency_$(date +%Y%m%d_%H%M%S)
```

### 3. éƒ¨ç½²ç´§æ€¥æ–‡ä»¶
å°†ä»¥ä¸‹æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨APIç›®å½•ï¼š
- `emergency_app.py` - æœ€å°åŒ–åº”ç”¨
- `requirements-emergency.txt` - æœ€å°ä¾èµ–
- `start_emergency.sh` - å¯åŠ¨è„šæœ¬

### 4. å¯åŠ¨ç´§æ€¥æœåŠ¡
```bash
cd /path/to/api
chmod +x start_emergency.sh
./start_emergency.sh
```

æˆ–è€…æ‰‹åŠ¨å¯åŠ¨ï¼š
```bash
pip install -r requirements-emergency.txt
python emergency_app.py
```

## ğŸ”§ ç´§æ€¥æ¨¡å¼åŠŸèƒ½

### å¯ç”¨åŠŸèƒ½
- âœ… ç”¨æˆ·ç™»å½• (`/api/v1/auth/login`)
- âœ… ç”¨æˆ·ä¿¡æ¯ (`/api/v1/auth/me`) 
- âœ… æŠ¥ä»·åˆ—è¡¨ (`/api/v1/quotes`) - æ ¸å¿ƒåŠŸèƒ½
- âœ… å¥åº·æ£€æŸ¥ (`/health`)

### é»˜è®¤ç®¡ç†å‘˜
- ç”¨æˆ·å: `admin`
- å¯†ç : `admin123`

### ç§»é™¤çš„ç»„ä»¶
- AIåˆ†æåŠŸèƒ½ (å¯¼è‡´ä¾èµ–é—®é¢˜)
- æ€§èƒ½ç›‘æ§ (psutilä¾èµ–)
- å¤æ‚çš„ä¸­é—´ä»¶
- ä¸å¿…è¦çš„è·¯ç”±

## ğŸ” éªŒè¯æ­¥éª¤

### 1. æ£€æŸ¥æœåŠ¡çŠ¶æ€
```bash
curl http://your-domain/health
```

åº”è¯¥è¿”å›:
```json
{
  "status": "healthy",
  "timestamp": "2024-...",
  "service": "CPQ API Emergency Mode"
}
```

### 2. æµ‹è¯•ç™»å½•
```bash
curl -X POST http://your-domain/api/v1/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username": "admin", "password": "admin123"}'
```

### 3. æµ‹è¯•æŠ¥ä»·æ¥å£
```bash
curl -X GET http://your-domain/api/v1/quotes \
  -H "Authorization: Bearer YOUR_TOKEN"
```

## ğŸ¯ é¢„æœŸç»“æœ

ç´§æ€¥æ¨¡å¼ä¸‹ï¼Œç³»ç»Ÿåº”è¯¥èƒ½å¤Ÿï¼š
1. âœ… æ­£å¸¸å¯åŠ¨ï¼Œæ— 504é”™è¯¯
2. âœ… ç”¨æˆ·å¯ä»¥ç™»å½•
3. âœ… ç®¡ç†å‘˜å¯ä»¥æŸ¥çœ‹æŠ¥ä»·åˆ—è¡¨
4. âœ… å‰ç«¯å¯ä»¥æ­£å¸¸è¿æ¥åç«¯

## ğŸ“ å¦‚æœç´§æ€¥æ¨¡å¼ä»ç„¶å¤±è´¥

è¯·æ£€æŸ¥ï¼š
1. Pythonç‰ˆæœ¬ (å»ºè®®3.8+)
2. æ•°æ®åº“æ–‡ä»¶æƒé™
3. ç«¯å£å ç”¨æƒ…å†µ
4. æœåŠ¡å™¨é”™è¯¯æ—¥å¿—

## âš¡ æ¢å¤åˆ°æ­£å¸¸æ¨¡å¼

ç´§æ€¥æ¨¡å¼éªŒè¯å¯ç”¨åï¼Œå¯ä»¥é€æ­¥æ¢å¤ï¼š
1. ç¡®è®¤æ ¸å¿ƒåŠŸèƒ½æ­£å¸¸
2. é€ä¸ªæ·»åŠ å…¶ä»–åŠŸèƒ½æ¨¡å—
3. ç›‘æ§æ—¥å¿—ç¡®ä¿ç¨³å®šæ€§

## ğŸ”„ å›æ»šè®¡åˆ’

å¦‚éœ€å›æ»šåˆ°ä¿®å¤å‰ç‰ˆæœ¬ï¼š
```bash
# åœæ­¢ç´§æ€¥æœåŠ¡
pkill -f emergency_app.py

# æ¢å¤å¤‡ä»½
cp -r /path/to/backup/api_backup_* /path/to/current/api

# é‡å¯åŸæœåŠ¡
```

---

**é‡è¦**: ç´§æ€¥æ¨¡å¼åªåŒ…å«æ ¸å¿ƒåŠŸèƒ½ï¼Œå…¶ä»–åŠŸèƒ½éœ€è¦åœ¨ç³»ç»Ÿç¨³å®šåé€æ­¥æ·»åŠ ã€‚
