import{aQ as a,aR as l,aS as e,a as s,d as t,aT as u,aU as n,aV as d,aW as i,aX as o,aY as _,aZ as r,l as f,U as c,o as p,a_ as m,a8 as h,P as v,O as x,N as y,a7 as g,G as w,s as P,a$ as b}from"./element-plus-DR0qywX_.js";import{z as A,b as j,aA as k,l as z,w as C,A as Q,S as U,K as q,C as S,Q as B,u as G,P as I,J,M as K,an as L,az as M,B as N}from"./vue-BMWQU0Ry.js";import{u as O}from"./api-BHu6TLr6.js";import{s as R}from"./utils-BjNHK8wL.js";const T={class:"layout"},V={class:"header-right"},W={class:"user-info"},X=A({__name:"Layout",setup(A){const X=k(),Y=M(),Z=O(),$=j(()=>X.path);z(()=>{return a=this,l=function*(){if(Z.isAuthenticated&&!Z.user)try{yield Z.loadUserProfile()}catch(a){}},new Promise((e,s)=>{var t=a=>{try{n(l.next(a))}catch(e){s(e)}},u=a=>{try{n(l.throw(a))}catch(e){s(e)}},n=a=>a.done?e(a.value):Promise.resolve(a.value).then(t,u);n((l=l.apply(a,null)).next())});var a,l}),C([()=>Z.user,()=>X.path],([a,l])=>{},{immediate:!0});const D=a=>{switch(a){case"profile":R.info("个人资料功能即将推出");break;case"logout":Z.logout(),Y.push("/login"),R.success("退出登录成功")}};return(A,j)=>{const k=t,z=s,C=d,M=n,O=e,R=l,X=_,Y=m,E=o,F=i,H=L("router-view"),aa=b,la=a;return N(),Q("div",T,[U(la,null,{default:q(()=>[U(R,{class:"header"},{default:q(()=>{var a;return[j[2]||(j[2]=S("div",{class:"header-left"},[S("h1",{class:"title"},"CPQ系统")],-1)),S("div",V,[S("span",W,B(null==(a=G(Z).user)?void 0:a.full_name),1),U(O,{onCommand:D},{dropdown:q(()=>[U(M,null,{default:q(()=>[U(C,{command:"profile"},{default:q(()=>j[0]||(j[0]=[I("个人资料",-1)])),_:1,__:[0]}),U(C,{command:"logout",divided:""},{default:q(()=>j[1]||(j[1]=[I("退出登录",-1)])),_:1,__:[1]})]),_:1})]),default:q(()=>[U(z,{link:"",class:"user-dropdown"},{default:q(()=>[U(k,null,{default:q(()=>[U(G(u))]),_:1})]),_:1})]),_:1})])]}),_:1,__:[2]}),U(la,null,{default:q(()=>[U(F,{class:"sidebar",width:"200px"},{default:q(()=>[U(E,{"default-active":$.value,class:"sidebar-menu",router:"","background-color":"#f5f5f5","text-color":"#333","active-text-color":"#409eff"},{default:q(()=>[U(X,{index:"/"},{default:q(()=>[U(k,null,{default:q(()=>[U(G(r))]),_:1}),j[3]||(j[3]=S("span",null,"仪表盘",-1))]),_:1,__:[3]}),U(X,{index:"/products"},{default:q(()=>[U(k,null,{default:q(()=>[U(G(f))]),_:1}),j[4]||(j[4]=S("span",null,"产品管理",-1))]),_:1,__:[4]}),U(X,{index:"/search"},{default:q(()=>[U(k,null,{default:q(()=>[U(G(c))]),_:1}),j[5]||(j[5]=S("span",null,"产品搜索",-1))]),_:1,__:[5]}),U(X,{index:"/quotes"},{default:q(()=>[U(k,null,{default:q(()=>[U(G(p))]),_:1}),j[6]||(j[6]=S("span",null,"报价管理",-1))]),_:1,__:[6]}),U(Y,{index:"ai-features"},{title:q(()=>[U(k,null,{default:q(()=>[U(G(w))]),_:1}),j[7]||(j[7]=S("span",null,"AI智能功能",-1))]),default:q(()=>[U(X,{index:"/ai-analysis-enhanced"},{default:q(()=>[U(k,null,{default:q(()=>[U(G(h))]),_:1}),j[8]||(j[8]=S("span",null,"智能分析增强",-1))]),_:1,__:[8]}),U(X,{index:"/prompt-optimization"},{default:q(()=>[U(k,null,{default:q(()=>[U(G(v))]),_:1}),j[9]||(j[9]=S("span",null,"Prompt优化",-1))]),_:1,__:[9]}),U(X,{index:"/document-comparison"},{default:q(()=>[U(k,null,{default:q(()=>[U(G(x))]),_:1}),j[10]||(j[10]=S("span",null,"文档对比",-1))]),_:1,__:[10]}),U(X,{index:"/batch-analysis"},{default:q(()=>[U(k,null,{default:q(()=>[U(G(y))]),_:1}),j[11]||(j[11]=S("span",null,"批量分析",-1))]),_:1,__:[11]}),U(X,{index:"/pricing-decision"},{default:q(()=>[U(k,null,{default:q(()=>[U(G(g))]),_:1}),j[12]||(j[12]=S("span",null,"报价决策支持",-1))]),_:1,__:[12]})]),_:1}),G(Z).isAdmin?(N(),J(X,{key:0,index:"/settings"},{default:q(()=>[U(k,null,{default:q(()=>[U(G(P))]),_:1}),j[13]||(j[13]=S("span",null,"系统设置",-1))]),_:1,__:[13]})):K("",!0)]),_:1},8,["default-active"])]),_:1}),U(aa,{class:"main-content"},{default:q(()=>[U(H)]),_:1})]),_:1})]),_:1})])}}});export{X as _};
