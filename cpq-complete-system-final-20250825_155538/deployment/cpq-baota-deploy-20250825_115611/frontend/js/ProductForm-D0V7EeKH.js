var te=Object.defineProperty,Ne=Object.defineProperties;var Te=Object.getOwnPropertyDescriptors;var le=Object.getOwnPropertySymbols;var We=Object.prototype.hasOwnProperty,Xe=Object.prototype.propertyIsEnumerable;var ae=(k,y,b)=>y in k?te(k,y,{enumerable:!0,configurable:!0,writable:!0,value:b}):k[y]=b,oe=(k,y)=>{for(var b in y||(y={}))We.call(y,b)&&ae(k,b,y[b]);if(le)for(var b of le(y))Xe.call(y,b)&&ae(k,b,y[b]);return k},se=(k,y)=>Ne(k,Te(y)),i=(k,y)=>te(k,"name",{value:y,configurable:!0});var X=(k,y,b)=>new Promise((D,P)=>{var j=h=>{try{M(b.next(h))}catch(R){P(R)}},N=h=>{try{M(b.throw(h))}catch(R){P(R)}},M=h=>h.done?D(h.value):Promise.resolve(h.value).then(j,N);M((b=b.apply(k,y)).next())});import{s as w,_ as He}from"./index-CoBZUWE1.js";/* empty css                *//* empty css                    *//* empty css                 *//* empty css                       *//* empty css                        *//* empty css                *//* empty css                  *//* empty css                 *//* empty css                        *//* empty css                  *//* empty css                     *//* empty css               */import"./el-form-item-l0sNRNKZ.js";import{x as Ke,r as q,c as Le,X as Qe,w as Ye,y as m,Q as e,V as Ze,I as l,H as ne,K as $,A as c,P as I,a6 as S,M as v,u as V,O as ie,z as r}from"./vendor-vue-XfLkFKXI.js";import{af as Je,O as el,M as ll,N as al,ag as tl,W as ol,X as sl,Z as nl,ah as il,ai as dl,aj as ul,ak as rl,d as pl,b as ml,V as F,Y as cl,al as x,am as _l,j as fl}from"./vendor-ui-CE-ZhXxH.js";import{F as vl,P as gl}from"./ProductGallery-B8sbjOQ2.js";const Vl={class:"product-form"},yl={class:"image-upload-mode"},bl={key:0},hl={key:1},Ul={class:"section-header"},kl={key:0,class:"empty-state"},zl={class:"section-header"},wl={key:0,class:"empty-state"},Cl={key:0},El={key:1},$l={class:"subsection"},Il={class:"subsection-header"},Sl={key:0,class:"empty-state"},xl={class:"item-info"},Fl={class:"section-header"},ql={key:0,class:"empty-state"},Ml={class:"section-header"},Rl={class:"section-actions"},Al={key:0,class:"empty-state"},Ol={key:1,class:"accessory-section"},Gl={key:2,class:"accessory-section"},Pl={class:"section-header"},jl={key:0,class:"empty-state"},Bl={class:"certificate-actions"},Dl={class:"subsection"},Nl={class:"warranty-terms"},Tl={class:"terms-header"},Wl={class:"subsection"},Xl={class:"subsection"},Hl={class:"subsection-header"},Kl={class:"form-actions"},Ll=Ke({__name:"ProductForm",props:{product:{default:null},categories:{default:i(()=>[],"default")},loading:{type:Boolean,default:!1}},emits:["submit","cancel"],setup(k,{expose:y,emit:b}){const D=k,P=b,j=q(),N=q(null),M=q(null),h=q("single"),R=q(null),T=Le(()=>!!D.product),s=Qe({name:"",code:"",description:"",category:"",base_price:0,image_url:"",specifications:{},configuration_schema:{},is_active:!0,is_configurable:!1,detailed_description:"",application_scenarios:[],features:[],accessories:[],certificates:[],support_info:{warranty:{period:"",coverage:"",terms:[]},contact_info:{sales_phone:"",sales_email:"",support_phone:"",support_email:"",service_wechat:""},service_promises:[]}}),B=q(null),A=q([]),C=q([]),de=i(()=>{Object.assign(s,{name:"",code:"",description:"",category:"",base_price:0,image_url:"",specifications:{},configuration_schema:{},is_active:!0,is_configurable:!1,detailed_description:"",application_scenarios:[],features:[],accessories:[],certificates:[],support_info:{warranty:{period:"",coverage:"",terms:[]},contact_info:{sales_phone:"",sales_email:"",support_phone:"",support_email:"",service_wechat:""},service_promises:[]}}),A.value=[],C.value=[],B.value=null},"resetForm"),ue=i(o=>{Object.assign(s,{name:o.name,code:o.code,description:o.description||"",category:o.category,base_price:o.base_price,image_url:o.image_url||"",specifications:o.specifications||{},configuration_schema:o.configuration_schema||{},is_active:o.is_active,is_configurable:o.is_configurable,detailed_description:o.detailed_description||"",application_scenarios:o.application_scenarios||[],features:o.features||[],accessories:o.accessories||[],certificates:o.certificates||[],support_info:o.support_info||{warranty:{period:"",coverage:"",terms:[]},contact_info:{},service_promises:[]}}),B.value=o.id||null,A.value=Object.entries(s.specifications).map(([a,n])=>({id:Math.random().toString(36).substr(2,9),name:a,value:n.value||n,unit:n.unit||"",description:n.description||""})),C.value=Object.entries(s.configuration_schema).map(([a,n])=>({id:Math.random().toString(36).substr(2,9),name:a,type:n.type||"text",label:n.label||a,description:n.description||"",required:n.required||!1,default:n.default,options:n.options||[],validation:n.validation||{}}))},"populateForm"),re={name:[{required:!0,message:"请输入产品名称",trigger:"blur"},{min:1,max:200,message:"长度应为1到200个字符",trigger:"blur"}],code:[{required:!0,message:"请输入产品代码",trigger:"blur"},{min:1,max:50,message:"长度应为1到50个字符",trigger:"blur"}],category:[{required:!0,message:"请选择或输入分类",trigger:"blur"}],base_price:[{required:!0,message:"请输入基础价格",trigger:"blur"},{type:"number",min:0,message:"价格不能为负数",trigger:"blur"}],detailed_description:[{max:2e3,message:"详细介绍不能超过2000个字符",trigger:"blur"}]},pe=i(()=>{const o=[];return s.features.forEach((a,n)=>{a.title.trim()||o.push("第".concat(n+1,"个产品特点的标题不能为空")),a.description.trim()||o.push("第".concat(n+1,"个产品特点的描述不能为空"))}),o},"validateFeatures"),me=i(()=>{const o=[];return s.accessories.forEach((a,n)=>{a.name.trim()||o.push("第".concat(n+1,"个配件的名称不能为空")),a.description.trim()||o.push("第".concat(n+1,"个配件的描述不能为空"))}),o},"validateAccessories"),ce=i(()=>{const o=[];return s.certificates.forEach((a,n)=>{a.name.trim()||o.push("第".concat(n+1,"个证书的名称不能为空")),a.description.trim()||o.push("第".concat(n+1,"个证书的描述不能为空"))}),o},"validateCertificates"),_e=i(()=>{const o=[];s.support_info.warranty.terms.forEach((n,p)=>{n.trim()||o.push("第".concat(p+1,"个质保条款不能为空"))}),s.support_info.service_promises.forEach((n,p)=>{n.trim()||o.push("第".concat(p+1,"个服务承诺不能为空"))});const a=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return s.support_info.contact_info.sales_email&&!a.test(s.support_info.contact_info.sales_email)&&o.push("销售邮箱格式不正确"),s.support_info.contact_info.support_email&&!a.test(s.support_info.contact_info.support_email)&&o.push("技术支持邮箱格式不正确"),o},"validateSupportInfo"),fe=i(()=>{const o=[];return o.push(...pe()),o.push(...me()),o.push(...ce()),o.push(..._e()),o},"performExtendedValidation");Ye(()=>D.product,o=>X(this,null,function*(){if(o){if(ue(o),o.id&&T.value)try{h.value="single"}catch(a){h.value="single"}}else de(),h.value="single"}),{immediate:!0});const ve=i(()=>{A.value.push({id:Math.random().toString(36).substr(2,9),name:"",value:"",unit:"",description:""})},"addSpecification"),ge=i(o=>{A.value.splice(o,1)},"removeSpecification"),Ve=i(()=>{C.value.push({id:Math.random().toString(36).substr(2,9),name:"",type:"text",label:"",description:"",required:!1,default:"",options:[],validation:{}})},"addConfigField"),ye=i(o=>{C.value.splice(o,1)},"removeConfigField"),be=i(o=>{C.value[o].options||(C.value[o].options=[]),C.value[o].options.push({label:"",value:""})},"addOption"),he=i((o,a)=>{C.value[o].options.splice(a,1)},"removeOption"),Ue=i(()=>{s.application_scenarios.push({id:Math.random().toString(36).substr(2,9),name:"",icon:"",sort_order:s.application_scenarios.length})},"addApplicationScenario"),ke=i(o=>{s.application_scenarios.splice(o,1)},"removeApplicationScenario"),ze=i(()=>{s.features.push({id:Math.random().toString(36).substr(2,9),icon:"",title:"",description:"",sort_order:s.features.length})},"addFeature"),we=i(o=>{s.features.splice(o,1)},"removeFeature"),L=i((o="standard")=>{s.accessories.push({id:Math.random().toString(36).substr(2,9),name:"",description:"",type:o,sort_order:s.accessories.length})},"addAccessory"),Q=i(o=>{s.accessories.splice(o,1)},"removeAccessory"),Ce=i(()=>{s.certificates.push({id:Math.random().toString(36).substr(2,9),name:"",description:"",certificate_number:"",type:"quality",sort_order:s.certificates.length})},"addCertificate"),Ee=i(o=>{s.certificates.splice(o,1)},"removeCertificate"),$e=i(()=>{s.support_info.warranty.terms.push("")},"addWarrantyTerm"),Ie=i(o=>{s.support_info.warranty.terms.splice(o,1)},"removeWarrantyTerm"),Se=i(()=>{s.support_info.service_promises.push("")},"addServicePromise"),xe=i(o=>{s.support_info.service_promises.splice(o,1)},"removeServicePromise"),Fe=i(()=>{const o={};A.value.forEach(n=>{n.name&&(o[n.name]={value:n.value,unit:n.unit,description:n.description})});const a={};return C.value.forEach(n=>{n.name&&(a[n.name]={type:n.type,label:n.label,description:n.description,required:n.required,default:n.default,options:n.options,validation:n.validation})}),se(oe({},s),{specifications:o,configuration_schema:a})},"prepareFormData"),Y=i(()=>X(this,null,function*(){if(j.value)try{yield j.value.validate();const o=fe();if(o.length>0){w.error({message:"表单验证失败：\n".concat(o.join("\n")),duration:6e3,showClose:!0});return}const a=Fe();!T.value&&R.value?P("submit",a,R.value):P("submit",a)}catch(o){w.error("请修复表单错误")}}),"handleSubmit");y({uploadImageAfterCreate:i(o=>X(this,null,function*(){try{B.value=parseInt(o),h.value==="single"&&N.value?R.value&&w.info("正在上传产品图片..."):h.value==="gallery"&&M.value&&(yield M.value.loadGallery(),w.success("产品创建成功，现在可以上传图集")),w.success("产品创建成功")}catch(a){w.warning("产品创建成功，但图片处理可能有问题")}}),"uploadImageAfterCreate")});const qe=i((o,a)=>{s.image_url=o,w.success("产品图片上传成功")},"handleImageUploadSuccess"),Me=i(o=>{w.error("图片上传失败: ".concat(o))},"handleImageUploadError"),Re=i(()=>{s.image_url="",w.success("产品图片删除成功")},"handleImageDeleteSuccess"),Ae=i(o=>{w.error("图片删除失败: ".concat(o))},"handleImageDeleteError"),Oe=i(()=>{w.success("图集已刷新")},"handleGalleryRefresh"),Ge=i(o=>{o&&o!==s.image_url&&(s.image_url=o,w.info("主图已更新"))},"handleGalleryImageChange"),Pe=i(o=>{const a=o.find(n=>n.is_primary);a&&a.image_url!==s.image_url&&(s.image_url=a.image_url)},"handleGalleryImagesUpdate");return(o,a)=>{const n=ol,p=tl,u=al,U=ll,E=cl,H=sl,K=nl,Z=il,z=el,J=ul,je=dl,g=ml,f=pl,O=rl,Be=_l,ee=fl,De=Je;return r(),m("div",Vl,[e(De,{ref_key:"productFormRef",ref:j,model:s,rules:re,"label-width":"140px",onSubmit:Ze(Y,["prevent"])},{default:l(()=>[e(z,{class:"form-section"},{header:l(()=>a[19]||(a[19]=[c("span",{class:"section-title"},"基本信息",-1)])),default:l(()=>[e(U,{gutter:20},{default:l(()=>[e(u,{span:12},{default:l(()=>[e(p,{label:"产品名称",prop:"name"},{default:l(()=>[e(n,{modelValue:s.name,"onUpdate:modelValue":a[0]||(a[0]=t=>s.name=t),placeholder:"请输入产品名称",maxlength:"200","show-word-limit":""},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:l(()=>[e(p,{label:"产品代码",prop:"code"},{default:l(()=>[e(n,{modelValue:s.code,"onUpdate:modelValue":a[1]||(a[1]=t=>s.code=t),placeholder:"请输入唯一产品代码",maxlength:"50","show-word-limit":"",disabled:T.value},null,8,["modelValue","disabled"])]),_:1})]),_:1})]),_:1}),e(U,{gutter:20},{default:l(()=>[e(u,{span:12},{default:l(()=>[e(p,{label:"分类",prop:"category"},{default:l(()=>[e(H,{modelValue:s.category,"onUpdate:modelValue":a[2]||(a[2]=t=>s.category=t),placeholder:"选择或输入分类",filterable:"","allow-create":"","default-first-option":"",style:{width:"100%"}},{default:l(()=>[(r(!0),m(I,null,S(o.categories,t=>(r(),ne(E,{key:t,label:t,value:t},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:l(()=>[e(p,{label:"基础价格",prop:"base_price"},{default:l(()=>[e(K,{modelValue:s.base_price,"onUpdate:modelValue":a[3]||(a[3]=t=>s.base_price=t),precision:2,min:0,max:999999.99,style:{width:"100%"},"controls-position":"right"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(p,{label:"产品描述"},{default:l(()=>[e(n,{modelValue:s.description,"onUpdate:modelValue":a[4]||(a[4]=t=>s.description=t),type:"textarea",rows:3,placeholder:"请输入产品描述",maxlength:"1000","show-word-limit":""},null,8,["modelValue"])]),_:1}),e(U,{gutter:20},{default:l(()=>[e(u,{span:12},{default:l(()=>[e(p,{label:"状态"},{default:l(()=>[e(Z,{modelValue:s.is_active,"onUpdate:modelValue":a[5]||(a[5]=t=>s.is_active=t),"active-text":"活跃","inactive-text":"非活跃"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:l(()=>[e(p,{label:"可配置"},{default:l(()=>[e(Z,{modelValue:s.is_configurable,"onUpdate:modelValue":a[6]||(a[6]=t=>s.is_configurable=t),"active-text":"是","inactive-text":"否"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(z,{class:"form-section"},{header:l(()=>a[20]||(a[20]=[c("span",{class:"section-title"},"产品图片",-1)])),default:l(()=>[c("div",yl,[e(je,{modelValue:h.value,"onUpdate:modelValue":a[7]||(a[7]=t=>h.value=t),class:"mode-selector"},{default:l(()=>[e(J,{value:"single"},{default:l(()=>a[21]||(a[21]=[v("单图上传",-1)])),_:1,__:[21]}),e(J,{value:"gallery"},{default:l(()=>a[22]||(a[22]=[v("图集管理",-1)])),_:1,__:[22]})]),_:1},8,["modelValue"])]),h.value==="single"?(r(),m("div",bl,[e(vl,{ref_key:"fastImageUploadRef",ref:N,"product-id":B.value,"initial-image-url":s.image_url,disabled:o.loading,"compression-preset":"standard",onUploadSuccess:qe,onUploadError:Me,onDeleteSuccess:Re,onDeleteError:Ae},null,8,["product-id","initial-image-url","disabled"])])):(r(),m("div",hl,[e(gl,{ref_key:"productGalleryRef",ref:M,"product-id":B.value,"edit-mode":!0,"can-edit":!0,"auto-load":"",onRefresh:Oe,onImageChange:Ge,onImagesUpdate:Pe},null,8,["product-id"])]))]),_:1}),e(z,{class:"form-section"},{header:l(()=>[c("div",Ul,[a[24]||(a[24]=c("span",{class:"section-title"},"技术规格",-1)),e(f,{type:"primary",size:"small",onClick:ve},{default:l(()=>[e(g,null,{default:l(()=>[e(V(F))]),_:1}),a[23]||(a[23]=v(" 添加规格 ",-1))]),_:1,__:[23]})])]),default:l(()=>[A.value.length===0?(r(),m("div",kl,[e(O,{description:"尚未添加规格"})])):$("",!0),(r(!0),m(I,null,S(A.value,(t,_)=>(r(),m("div",{key:t.id,class:"specification-item"},[e(U,{gutter:16,align:"middle"},{default:l(()=>[e(u,{span:6},{default:l(()=>[e(n,{modelValue:t.name,"onUpdate:modelValue":i(d=>t.name=d,"onUpdate:modelValue"),placeholder:"规格名称",size:"small"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(u,{span:6},{default:l(()=>[e(n,{modelValue:t.value,"onUpdate:modelValue":i(d=>t.value=d,"onUpdate:modelValue"),placeholder:"值",size:"small"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(u,{span:4},{default:l(()=>[e(n,{modelValue:t.unit,"onUpdate:modelValue":i(d=>t.unit=d,"onUpdate:modelValue"),placeholder:"单位（可选）",size:"small"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(u,{span:6},{default:l(()=>[e(n,{modelValue:t.description,"onUpdate:modelValue":i(d=>t.description=d,"onUpdate:modelValue"),placeholder:"描述（可选）",size:"small"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(u,{span:2},{default:l(()=>[e(f,{type:"danger",size:"small",onClick:i(d=>ge(_),"onClick")},{default:l(()=>[e(g,null,{default:l(()=>[e(V(x))]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]))),128))]),_:1}),s.is_configurable?(r(),ne(z,{key:0,class:"form-section"},{header:l(()=>[c("div",zl,[a[26]||(a[26]=c("span",{class:"section-title"},"配置架构",-1)),e(f,{type:"primary",size:"small",onClick:Ve},{default:l(()=>[e(g,null,{default:l(()=>[e(V(F))]),_:1}),a[25]||(a[25]=v(" 添加字段 ",-1))]),_:1,__:[25]})])]),default:l(()=>[C.value.length===0?(r(),m("div",wl,[e(O,{description:"尚未添加配置字段"})])):$("",!0),(r(!0),m(I,null,S(C.value,(t,_)=>(r(),m("div",{key:t.id,class:"config-field-item"},[e(z,{size:"small"},{default:l(()=>[e(U,{gutter:16},{default:l(()=>[e(u,{span:8},{default:l(()=>[e(p,{label:"字段名称",size:"small"},{default:l(()=>[e(n,{modelValue:t.name,"onUpdate:modelValue":i(d=>t.name=d,"onUpdate:modelValue"),placeholder:"字段名称"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(p,{label:"标签",size:"small"},{default:l(()=>[e(n,{modelValue:t.label,"onUpdate:modelValue":i(d=>t.label=d,"onUpdate:modelValue"),placeholder:"显示标签"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(p,{label:"类型",size:"small"},{default:l(()=>[e(H,{modelValue:t.type,"onUpdate:modelValue":i(d=>t.type=d,"onUpdate:modelValue"),style:{width:"100%"}},{default:l(()=>[e(E,{label:"文本",value:"text"}),e(E,{label:"数字",value:"number"}),e(E,{label:"布尔",value:"boolean"}),e(E,{label:"选择",value:"select"}),e(E,{label:"多选",value:"multiselect"})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),e(u,{span:8},{default:l(()=>[e(p,{label:"描述",size:"small"},{default:l(()=>[e(n,{modelValue:t.description,"onUpdate:modelValue":i(d=>t.description=d,"onUpdate:modelValue"),type:"textarea",rows:2,placeholder:"字段描述"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(p,{label:"默认值",size:"small"},{default:l(()=>[e(n,{modelValue:t.default,"onUpdate:modelValue":i(d=>t.default=d,"onUpdate:modelValue"),placeholder:"默认值"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(p,{size:"small"},{default:l(()=>[e(Be,{modelValue:t.required,"onUpdate:modelValue":i(d=>t.required=d,"onUpdate:modelValue")},{default:l(()=>a[27]||(a[27]=[v("必填",-1)])),_:2,__:[27]},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),e(u,{span:6},{default:l(()=>[["select","multiselect"].includes(t.type)?(r(),m("div",Cl,[e(p,{label:"选项",size:"small"},{default:l(()=>[(r(!0),m(I,null,S(t.options,(d,G)=>(r(),m("div",{key:G,class:"option-item"},[e(U,{gutter:8,align:"middle"},{default:l(()=>[e(u,{span:10},{default:l(()=>[e(n,{modelValue:d.label,"onUpdate:modelValue":i(W=>d.label=W,"onUpdate:modelValue"),placeholder:"标签",size:"small"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(u,{span:10},{default:l(()=>[e(n,{modelValue:d.value,"onUpdate:modelValue":i(W=>d.value=W,"onUpdate:modelValue"),placeholder:"值",size:"small"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(u,{span:4},{default:l(()=>[e(f,{type:"danger",size:"small",onClick:i(W=>he(_,G),"onClick")},{default:l(()=>[e(g,null,{default:l(()=>[e(V(x))]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]))),128)),e(f,{link:"",size:"small",onClick:i(d=>be(_),"onClick")},{default:l(()=>a[28]||(a[28]=[v(" 添加选项 ",-1)])),_:2,__:[28]},1032,["onClick"])]),_:2},1024)])):$("",!0),t.type==="number"?(r(),m("div",El,[e(p,{label:"最小值",size:"small"},{default:l(()=>[e(K,{modelValue:t.validation.min,"onUpdate:modelValue":i(d=>t.validation.min=d,"onUpdate:modelValue"),size:"small",style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(p,{label:"最大值",size:"small"},{default:l(()=>[e(K,{modelValue:t.validation.max,"onUpdate:modelValue":i(d=>t.validation.max=d,"onUpdate:modelValue"),size:"small",style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)])):$("",!0)]),_:2},1024),e(u,{span:2},{default:l(()=>[e(f,{type:"danger",size:"small",onClick:i(d=>ye(_),"onClick")},{default:l(()=>[e(g,null,{default:l(()=>[e(V(x))]),_:1}),a[29]||(a[29]=v(" 删除 ",-1))]),_:2,__:[29]},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]))),128))]),_:1})):$("",!0),e(z,{class:"form-section"},{header:l(()=>a[30]||(a[30]=[c("span",{class:"section-title"},"产品详情",-1)])),default:l(()=>[e(p,{label:"详细介绍"},{default:l(()=>[e(n,{modelValue:s.detailed_description,"onUpdate:modelValue":a[8]||(a[8]=t=>s.detailed_description=t),type:"textarea",rows:6,placeholder:"请输入产品详细介绍，支持应用场景、工作原理等详细描述",maxlength:"2000","show-word-limit":""},null,8,["modelValue"])]),_:1}),c("div",$l,[c("div",Il,[a[32]||(a[32]=c("span",{class:"subsection-title"},"应用场景",-1)),e(f,{type:"primary",size:"small",onClick:Ue},{default:l(()=>[e(g,null,{default:l(()=>[e(V(F))]),_:1}),a[31]||(a[31]=v(" 添加场景 ",-1))]),_:1,__:[31]})]),s.application_scenarios.length===0?(r(),m("div",Sl,[e(O,{description:"尚未添加应用场景"})])):$("",!0),(r(!0),m(I,null,S(s.application_scenarios,(t,_)=>(r(),m("div",{key:t.id,class:"list-item"},[e(U,{gutter:16,align:"middle"},{default:l(()=>[e(u,{span:6},{default:l(()=>[e(n,{modelValue:t.name,"onUpdate:modelValue":i(d=>t.name=d,"onUpdate:modelValue"),placeholder:"场景名称",size:"small"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(u,{span:6},{default:l(()=>[e(n,{modelValue:t.icon,"onUpdate:modelValue":i(d=>t.icon=d,"onUpdate:modelValue"),placeholder:"图标类名（可选）",size:"small"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(u,{span:10},{default:l(()=>[c("span",xl,"排序: "+ie(_+1),1)]),_:2},1024),e(u,{span:2},{default:l(()=>[e(f,{type:"danger",size:"small",onClick:i(d=>ke(_),"onClick")},{default:l(()=>[e(g,null,{default:l(()=>[e(V(x))]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]))),128))])]),_:1}),e(z,{class:"form-section"},{header:l(()=>[c("div",Fl,[a[34]||(a[34]=c("span",{class:"section-title"},"产品特点",-1)),e(f,{type:"primary",size:"small",onClick:ze},{default:l(()=>[e(g,null,{default:l(()=>[e(V(F))]),_:1}),a[33]||(a[33]=v(" 添加特点 ",-1))]),_:1,__:[33]})])]),default:l(()=>[s.features.length===0?(r(),m("div",ql,[e(O,{description:"尚未添加产品特点"})])):$("",!0),(r(!0),m(I,null,S(s.features,(t,_)=>(r(),m("div",{key:t.id,class:"feature-item"},[e(z,{size:"small",class:"feature-card"},{default:l(()=>[e(U,{gutter:16},{default:l(()=>[e(u,{span:12},{default:l(()=>[e(p,{label:"特点标题",size:"small"},{default:l(()=>[e(n,{modelValue:t.title,"onUpdate:modelValue":i(d=>t.title=d,"onUpdate:modelValue"),placeholder:"特点标题"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(p,{label:"图标类名",size:"small"},{default:l(()=>[e(n,{modelValue:t.icon,"onUpdate:modelValue":i(d=>t.icon=d,"onUpdate:modelValue"),placeholder:"图标类名（可选）"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),e(u,{span:10},{default:l(()=>[e(p,{label:"特点描述",size:"small"},{default:l(()=>[e(n,{modelValue:t.description,"onUpdate:modelValue":i(d=>t.description=d,"onUpdate:modelValue"),type:"textarea",rows:3,placeholder:"详细描述该产品特点"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),e(u,{span:2},{default:l(()=>[e(f,{type:"danger",size:"small",onClick:i(d=>we(_),"onClick")},{default:l(()=>[e(g,null,{default:l(()=>[e(V(x))]),_:1}),a[35]||(a[35]=v(" 删除 ",-1))]),_:2,__:[35]},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]))),128))]),_:1}),e(z,{class:"form-section"},{header:l(()=>[c("div",Ml,[a[38]||(a[38]=c("span",{class:"section-title"},"附件配件",-1)),c("div",Rl,[e(f,{type:"primary",size:"small",onClick:a[9]||(a[9]=t=>L("standard"))},{default:l(()=>[e(g,null,{default:l(()=>[e(V(F))]),_:1}),a[36]||(a[36]=v(" 标准配置 ",-1))]),_:1,__:[36]}),e(f,{type:"success",size:"small",onClick:a[10]||(a[10]=t=>L("optional"))},{default:l(()=>[e(g,null,{default:l(()=>[e(V(F))]),_:1}),a[37]||(a[37]=v(" 可选配件 ",-1))]),_:1,__:[37]})])])]),default:l(()=>[s.accessories.length===0?(r(),m("div",Al,[e(O,{description:"尚未添加附件配件"})])):$("",!0),s.accessories.some(t=>t.type==="standard")?(r(),m("div",Ol,[a[40]||(a[40]=c("h4",{class:"accessory-section-title"},"标准配置",-1)),(r(!0),m(I,null,S(s.accessories.filter(t=>t.type==="standard"),(t,_)=>(r(),m("div",{key:t.id,class:"accessory-item"},[e(U,{gutter:16,align:"middle"},{default:l(()=>[e(u,{span:6},{default:l(()=>[e(n,{modelValue:t.name,"onUpdate:modelValue":i(d=>t.name=d,"onUpdate:modelValue"),placeholder:"配件名称",size:"small"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(u,{span:14},{default:l(()=>[e(n,{modelValue:t.description,"onUpdate:modelValue":i(d=>t.description=d,"onUpdate:modelValue"),placeholder:"配件描述",size:"small"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(u,{span:2},{default:l(()=>[e(ee,{type:"primary",size:"small"},{default:l(()=>a[39]||(a[39]=[v("标准",-1)])),_:1,__:[39]})]),_:1}),e(u,{span:2},{default:l(()=>[e(f,{type:"danger",size:"small",onClick:i(d=>Q(s.accessories.findIndex(G=>G.id===t.id)),"onClick")},{default:l(()=>[e(g,null,{default:l(()=>[e(V(x))]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]))),128))])):$("",!0),s.accessories.some(t=>t.type==="optional")?(r(),m("div",Gl,[a[42]||(a[42]=c("h4",{class:"accessory-section-title"},"可选配件",-1)),(r(!0),m(I,null,S(s.accessories.filter(t=>t.type==="optional"),(t,_)=>(r(),m("div",{key:t.id,class:"accessory-item"},[e(U,{gutter:16,align:"middle"},{default:l(()=>[e(u,{span:6},{default:l(()=>[e(n,{modelValue:t.name,"onUpdate:modelValue":i(d=>t.name=d,"onUpdate:modelValue"),placeholder:"配件名称",size:"small"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(u,{span:14},{default:l(()=>[e(n,{modelValue:t.description,"onUpdate:modelValue":i(d=>t.description=d,"onUpdate:modelValue"),placeholder:"配件描述",size:"small"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(u,{span:2},{default:l(()=>[e(ee,{type:"success",size:"small"},{default:l(()=>a[41]||(a[41]=[v("可选",-1)])),_:1,__:[41]})]),_:1}),e(u,{span:2},{default:l(()=>[e(f,{type:"danger",size:"small",onClick:i(d=>Q(s.accessories.findIndex(G=>G.id===t.id)),"onClick")},{default:l(()=>[e(g,null,{default:l(()=>[e(V(x))]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]))),128))])):$("",!0)]),_:1}),e(z,{class:"form-section"},{header:l(()=>[c("div",Pl,[a[44]||(a[44]=c("span",{class:"section-title"},"检定证书",-1)),e(f,{type:"primary",size:"small",onClick:Ce},{default:l(()=>[e(g,null,{default:l(()=>[e(V(F))]),_:1}),a[43]||(a[43]=v(" 添加证书 ",-1))]),_:1,__:[43]})])]),default:l(()=>[s.certificates.length===0?(r(),m("div",jl,[e(O,{description:"尚未添加证书信息"})])):$("",!0),(r(!0),m(I,null,S(s.certificates,(t,_)=>(r(),m("div",{key:t.id,class:"certificate-item"},[e(z,{size:"small"},{default:l(()=>[e(U,{gutter:16},{default:l(()=>[e(u,{span:8},{default:l(()=>[e(p,{label:"证书名称",size:"small"},{default:l(()=>[e(n,{modelValue:t.name,"onUpdate:modelValue":i(d=>t.name=d,"onUpdate:modelValue"),placeholder:"证书名称"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(p,{label:"证书类型",size:"small"},{default:l(()=>[e(H,{modelValue:t.type,"onUpdate:modelValue":i(d=>t.type=d,"onUpdate:modelValue"),placeholder:"选择类型",style:{width:"100%"}},{default:l(()=>[e(E,{label:"质量认证",value:"quality"}),e(E,{label:"安全认证",value:"safety"}),e(E,{label:"合规认证",value:"compliance"}),e(E,{label:"计量检定",value:"metrology"}),e(E,{label:"其他",value:"other"})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),e(u,{span:8},{default:l(()=>[e(p,{label:"证书编号",size:"small"},{default:l(()=>[e(n,{modelValue:t.certificate_number,"onUpdate:modelValue":i(d=>t.certificate_number=d,"onUpdate:modelValue"),placeholder:"证书编号"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(p,{label:"证书描述",size:"small"},{default:l(()=>[e(n,{modelValue:t.description,"onUpdate:modelValue":i(d=>t.description=d,"onUpdate:modelValue"),type:"textarea",rows:2,placeholder:"证书描述"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),e(u,{span:6},{default:l(()=>[c("div",Bl,[e(f,{type:"danger",size:"small",onClick:i(d=>Ee(_),"onClick")},{default:l(()=>[e(g,null,{default:l(()=>[e(V(x))]),_:1}),a[45]||(a[45]=v(" 删除证书 ",-1))]),_:2,__:[45]},1032,["onClick"])])]),_:2},1024)]),_:2},1024)]),_:2},1024)]))),128))]),_:1}),e(z,{class:"form-section"},{header:l(()=>a[46]||(a[46]=[c("span",{class:"section-title"},"售后保障",-1)])),default:l(()=>[c("div",Dl,[a[49]||(a[49]=c("h4",{class:"subsection-title"},"质保信息",-1)),e(U,{gutter:20},{default:l(()=>[e(u,{span:8},{default:l(()=>[e(p,{label:"质保期限"},{default:l(()=>[e(n,{modelValue:s.support_info.warranty.period,"onUpdate:modelValue":a[11]||(a[11]=t=>s.support_info.warranty.period=t),placeholder:"例：3年"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:16},{default:l(()=>[e(p,{label:"质保内容"},{default:l(()=>[e(n,{modelValue:s.support_info.warranty.coverage,"onUpdate:modelValue":a[12]||(a[12]=t=>s.support_info.warranty.coverage=t),placeholder:"例：产品质保期3年，终身维护服务"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),c("div",Nl,[c("div",Tl,[a[48]||(a[48]=c("span",{class:"terms-title"},"质保条款",-1)),e(f,{link:"",size:"small",onClick:$e},{default:l(()=>[e(g,null,{default:l(()=>[e(V(F))]),_:1}),a[47]||(a[47]=v(" 添加条款 ",-1))]),_:1,__:[47]})]),(r(!0),m(I,null,S(s.support_info.warranty.terms,(t,_)=>(r(),m("div",{key:_,class:"term-item"},[e(U,{gutter:8,align:"middle"},{default:l(()=>[e(u,{span:22},{default:l(()=>[e(n,{modelValue:s.support_info.warranty.terms[_],"onUpdate:modelValue":i(d=>s.support_info.warranty.terms[_]=d,"onUpdate:modelValue"),placeholder:"质保条款内容",size:"small"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(u,{span:2},{default:l(()=>[e(f,{type:"danger",size:"small",onClick:i(d=>Ie(_),"onClick")},{default:l(()=>[e(g,null,{default:l(()=>[e(V(x))]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]))),128))])]),c("div",Wl,[a[50]||(a[50]=c("h4",{class:"subsection-title"},"联系方式",-1)),e(U,{gutter:20},{default:l(()=>[e(u,{span:12},{default:l(()=>[e(p,{label:"销售热线"},{default:l(()=>[e(n,{modelValue:s.support_info.contact_info.sales_phone,"onUpdate:modelValue":a[13]||(a[13]=t=>s.support_info.contact_info.sales_phone=t),placeholder:"销售热线电话"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:l(()=>[e(p,{label:"销售邮箱"},{default:l(()=>[e(n,{modelValue:s.support_info.contact_info.sales_email,"onUpdate:modelValue":a[14]||(a[14]=t=>s.support_info.contact_info.sales_email=t),placeholder:"sales@company.com"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(U,{gutter:20},{default:l(()=>[e(u,{span:8},{default:l(()=>[e(p,{label:"技术支持"},{default:l(()=>[e(n,{modelValue:s.support_info.contact_info.support_phone,"onUpdate:modelValue":a[15]||(a[15]=t=>s.support_info.contact_info.support_phone=t),placeholder:"技术支持电话"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:8},{default:l(()=>[e(p,{label:"技术邮箱"},{default:l(()=>[e(n,{modelValue:s.support_info.contact_info.support_email,"onUpdate:modelValue":a[16]||(a[16]=t=>s.support_info.contact_info.support_email=t),placeholder:"tech@company.com"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:8},{default:l(()=>[e(p,{label:"服务微信"},{default:l(()=>[e(n,{modelValue:s.support_info.contact_info.service_wechat,"onUpdate:modelValue":a[17]||(a[17]=t=>s.support_info.contact_info.service_wechat=t),placeholder:"服务微信号"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),c("div",Xl,[c("div",Hl,[a[52]||(a[52]=c("span",{class:"subsection-title"},"服务承诺",-1)),e(f,{link:"",size:"small",onClick:Se},{default:l(()=>[e(g,null,{default:l(()=>[e(V(F))]),_:1}),a[51]||(a[51]=v(" 添加承诺 ",-1))]),_:1,__:[51]})]),(r(!0),m(I,null,S(s.support_info.service_promises,(t,_)=>(r(),m("div",{key:_,class:"promise-item"},[e(U,{gutter:8,align:"middle"},{default:l(()=>[e(u,{span:22},{default:l(()=>[e(n,{modelValue:s.support_info.service_promises[_],"onUpdate:modelValue":i(d=>s.support_info.service_promises[_]=d,"onUpdate:modelValue"),placeholder:"服务承诺内容",size:"small"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(u,{span:2},{default:l(()=>[e(f,{type:"danger",size:"small",onClick:i(d=>xe(_),"onClick")},{default:l(()=>[e(g,null,{default:l(()=>[e(V(x))]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]))),128))])]),_:1}),c("div",Kl,[e(f,{onClick:a[18]||(a[18]=t=>o.$emit("cancel"))},{default:l(()=>a[53]||(a[53]=[v("取消",-1)])),_:1,__:[53]}),e(f,{type:"primary",onClick:Y,loading:o.loading},{default:l(()=>[v(ie(T.value?"更新产品":"创建产品"),1)]),_:1},8,["loading"])])]),_:1},8,["model"])])}}}),fa=He(Ll,[["__scopeId","data-v-d715b7c4"]]);export{fa as P};
